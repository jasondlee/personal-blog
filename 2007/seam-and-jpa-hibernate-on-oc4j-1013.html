<!DOCTYPE html>
<html>
<head>
    <title>Coming Up for Air : Seam and JPA/Hibernate on OC4J 10.1.3</title>

    <script src="/assets/js/simple-jekyll-search.min.js" type="text/javascript"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3GQK1YDRQM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-3GQK1YDRQM');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="me" href="https://mastodon.cloud/@jasondlee"/>

    <link rel="alternate" type="application/rss+xml" title="jasondl.ee RSS feed" href="/feed.xml">

    <link rel="stylesheet" href="/assets/css/main.css" />

    <!-- Web Fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Cherry+Cream+Soda">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Philosopher">
    <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css"/>

    <link rel="stylesheet" href="https://unpkg.com/primeflex@3.1.2/primeflex.css"/>
    <link rel="stylesheet" href="https://unpkg.com/primeflex/themes/saga-blue.css"/>
    <link rel="author" href="/images/profile-pic.jpg"/>
</head>
<body>
<div class="grid">
    <div class="col blogname">
        <span>
            <a href="https://jasondl.ee">Coming Up for Air</a>
        </span>
    </div>
</div>
<div class="grid main">
    <div class="col-9">
        <div id="content">
            <article class="post">
    <h1 class="title" style="border-bottom: solid 1px #47586d; margin-bottom: 0.25rem;">
        Seam and JPA/Hibernate on OC4J 10.1.3
    </h1>
    Wednesday, October 17, 2007 | <span class="share-page" style="">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013&title=Seam and JPA/Hibernate on OC4J 10.1.3" rel="nofollow" target="_blank" title="Share on LinkedIn">
      <i class="fa fa-linkedin-square"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Seam and JPA/Hibernate on OC4J 10.1.3&url=https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013&via=jasondlee&related=jasondlee" rel="nofollow" target="_blank" title="Share on Twitter">
      <i class="fa fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013" rel="nofollow" target="_blank" title="Share on Facebook">
      <i class="fa fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="https://www.reddit.com/submit?url=https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
      <i class="fa fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Seam and JPA/Hibernate on OC4J 10.1.3&amp;body=Seam and JPA/Hibernate on OC4J 10.1.3 https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013" title="Share via Email" >
      <i class="fa fa-envelope"></i>
  </a>
</span>

    <div>
        <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>On a recent project, the architecture we settled on included JavaServer Faces (no surprise, there, I guess:), JBoss Seam and JPA.  The production environment is Oracle&#8217;s OC4J, so the stack we chose has to deploy (easily) to that container.  While I did get it working, it wasn&#8217;t easy, nor was it easily reproducible.  Now that the pressures of deadlines have passed, I took the time to track down what exactly needs to be done to make the application deploy and run on OC4J.  In retrospect, it doesn&#8217;t look that hard, but, knowing the pain I went through to make it work, I thought I&#8217;d share what you need to know if you&#8217;re in a similar situation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quick-links">Quick Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#parent">Parent POM</a></p>
</li>
<li>
<p><a href="#ejb">EJB POM</a></p>
</li>
<li>
<p><a href="#webapp">Web App POM</a></p>
</li>
<li>
<p><a href="#ear">Ear POM</a></p>
</li>
<li>
<p><a href="#jpa">JPA Configuration</a></p>
</li>
<li>
<p><a href="#orion">OC4J Application File</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While I was at it, I thought I&#8217;d reconstruct my build environment using Maven 2.  Doing so will eventually allow me to create an archetype with which I can bootstrap new projects.  With that in mind, I created a multi-module Maven project with an "EJB" module, a web module, and an EAR module.  The "EJB" module isn&#8217;t a "real" EJB module, in that it doesn&#8217;t have any EJBs in right.  The business/service layer classes it does have use Seam annotations to expose the functionality to the web tier.  The web module contains the web-related Faces-managed beans (think backing beans), and the ear module simply packages everything in an EE5-compliant ear file for deployment.  Here are the Maven POM files:</p>
</div>
<div class="paragraph">
<p>[[parent"]]
/pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre></td><td class="code"><pre><span style="color: #116329">&lt;project</span> <span style="color: #116329">xmlns=</span><span style="color: #0a3069">"http://maven.apache.org/POM/4.0.0"</span>
    <span style="color: #116329">xmlns:xsi=</span><span style="color: #0a3069">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span style="color: #116329">xsi:schemaLocation=</span><span style="color: #0a3069">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"</span><span style="color: #116329">&gt;</span>
    <span style="color: #116329">&lt;modelVersion&gt;</span>4.0.0<span style="color: #116329">&lt;/modelVersion&gt;</span>
    <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft<span style="color: #116329">&lt;/groupId&gt;</span>
    <span style="color: #116329">&lt;artifactId&gt;</span>refImpl<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;packaging&gt;</span>pom<span style="color: #116329">&lt;/packaging&gt;</span>
    <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;name&gt;</span>refImpl<span style="color: #116329">&lt;/name&gt;</span>
    <span style="color: #116329">&lt;url&gt;</span>http://maven.apache.org<span style="color: #116329">&lt;/url&gt;</span>
    <span style="color: #116329">&lt;repositories&gt;</span>
        <span style="color: #116329">&lt;repository&gt;</span>
            <span style="color: #116329">&lt;id&gt;</span>java.net<span style="color: #116329">&lt;/id&gt;</span>
            <span style="color: #116329">&lt;url&gt;</span>http://download.java.net/maven/1<span style="color: #116329">&lt;/url&gt;</span>
            <span style="color: #116329">&lt;layout&gt;</span>legacy<span style="color: #116329">&lt;/layout&gt;</span>
        <span style="color: #116329">&lt;/repository&gt;</span>
        <span style="color: #116329">&lt;repository&gt;</span>
            <span style="color: #116329">&lt;id&gt;</span>jboss-snapshot<span style="color: #116329">&lt;/id&gt;</span>
            <span style="color: #116329">&lt;name&gt;</span>The JBoss maven repo<span style="color: #116329">&lt;/name&gt;</span>
            <span style="color: #116329">&lt;url&gt;</span>http://snapshots.jboss.org/maven2<span style="color: #116329">&lt;/url&gt;</span>
        <span style="color: #116329">&lt;/repository&gt;</span>
    <span style="color: #116329">&lt;/repositories&gt;</span>
    <span style="color: #116329">&lt;parent&gt;</span>
        <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.seam<span style="color: #116329">&lt;/groupId&gt;</span>
        <span style="color: #116329">&lt;artifactId&gt;</span>parent<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;version&gt;</span>2.0.0.CR2<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;/parent&gt;</span>
    <span style="color: #116329">&lt;dependencies&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>junit<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>junit<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>4.4<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
    <span style="color: #116329">&lt;/dependencies&gt;</span>
    <span style="color: #116329">&lt;modules&gt;</span>
        <span style="color: #116329">&lt;module&gt;</span>ejb<span style="color: #116329">&lt;/module&gt;</span>
        <span style="color: #116329">&lt;module&gt;</span>web<span style="color: #116329">&lt;/module&gt;</span>
        <span style="color: #116329">&lt;module&gt;</span>ear<span style="color: #116329">&lt;/module&gt;</span>
    <span style="color: #116329">&lt;/modules&gt;</span>
    <span style="color: #116329">&lt;build&gt;</span>
        <span style="color: #116329">&lt;defaultGoal&gt;</span>package<span style="color: #116329">&lt;/defaultGoal&gt;</span>
        <span style="color: #116329">&lt;plugins&gt;</span>
            <span style="color: #116329">&lt;plugin&gt;</span>
                <span style="color: #116329">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color: #116329">&lt;/groupId&gt;</span>
                <span style="color: #116329">&lt;artifactId&gt;</span>maven-compiler-plugin<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;configuration&gt;</span>
                    <span style="color: #116329">&lt;source&gt;</span>1.5<span style="color: #116329">&lt;/source&gt;</span>
                    <span style="color: #116329">&lt;target&gt;</span>1.5<span style="color: #116329">&lt;/target&gt;</span>
                <span style="color: #116329">&lt;/configuration&gt;</span>
            <span style="color: #116329">&lt;/plugin&gt;</span>
        <span style="color: #116329">&lt;/plugins&gt;</span>
    <span style="color: #116329">&lt;/build&gt;</span>
<span style="color: #116329">&lt;/project&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div id="ejb" class="paragraph">
<p>ejb/pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
</pre></td><td class="code"><pre><span style="color: #116329">&lt;project&gt;</span>
    <span style="color: #116329">&lt;parent&gt;</span>
        <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft<span style="color: #116329">&lt;/groupId&gt;</span>
        <span style="color: #116329">&lt;artifactId&gt;</span>refImpl<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;/parent&gt;</span>
    <span style="color: #116329">&lt;modelVersion&gt;</span>4.0.0<span style="color: #116329">&lt;/modelVersion&gt;</span>
    <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft.refImpl<span style="color: #116329">&lt;/groupId&gt;</span>
    <span style="color: #116329">&lt;artifactId&gt;</span>ejb<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;name&gt;</span>ejb<span style="color: #116329">&lt;/name&gt;</span>
    <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;packaging&gt;</span>ejb<span style="color: #116329">&lt;/packaging&gt;</span>
    <span style="color: #116329">&lt;url&gt;</span>http://maven.apache.org<span style="color: #116329">&lt;/url&gt;</span>
    <span style="color: #116329">&lt;build&gt;</span>
        <span style="color: #116329">&lt;finalName&gt;</span>myproj-ejb<span style="color: #116329">&lt;/finalName&gt;</span>
    <span style="color: #116329">&lt;/build&gt;</span>
    <span style="color: #116329">&lt;dependencies&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>javax.faces<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jsf-api<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.2_05<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>javax.faces<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jsf-impl<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.2_05<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>junit<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>junit<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>4.4<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.seam<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jboss-seam<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;exclusions&gt;</span>
                <span style="color: #116329">&lt;exclusion&gt;</span>
                    <span style="color: #116329">&lt;groupId&gt;</span>javax.faces<span style="color: #116329">&lt;/groupId&gt;</span>
                    <span style="color: #116329">&lt;artifactId&gt;</span>jsf-api<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;/exclusion&gt;</span>
                <span style="color: #116329">&lt;exclusion&gt;</span>
                    <span style="color: #116329">&lt;groupId&gt;</span>javax.faces<span style="color: #116329">&lt;/groupId&gt;</span>
                    <span style="color: #116329">&lt;artifactId&gt;</span>jsf-impl<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;/exclusion&gt;</span>
            <span style="color: #116329">&lt;/exclusions&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.seam<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jboss-el<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;exclusions&gt;</span>
                <span style="color: #116329">&lt;exclusion&gt;</span>
                    <span style="color: #116329">&lt;groupId&gt;</span>javax.el<span style="color: #116329">&lt;/groupId&gt;</span>
                    <span style="color: #116329">&lt;artifactId&gt;</span>el-api<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;/exclusion&gt;</span>
            <span style="color: #116329">&lt;/exclusions&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>hsqldb<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>hsqldb<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.8.0.1<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.hibernate<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>hibernate-entitymanager<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.3.1.GA<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.hibernate<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>hibernate-annotations<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.3.0.GA<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.hibernate<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>hibernate-search<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.0.0.GA<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>runtime<span style="color: #116329">&lt;/scope&gt;</span>
            <span style="color: #116329">&lt;exclusions&gt;</span>
                <span style="color: #116329">&lt;exclusion&gt;</span>
                    <span style="color: #116329">&lt;groupId&gt;</span>org.hibernate<span style="color: #116329">&lt;/groupId&gt;</span>
                    <span style="color: #116329">&lt;artifactId&gt;</span>hibernate<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;/exclusion&gt;</span>
            <span style="color: #116329">&lt;/exclusions&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>jboss<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jboss-archive-browsing<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>5.0.0alpha-200607201-119<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>javax.persistence<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>persistence-api<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>compile<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
    <span style="color: #116329">&lt;/dependencies&gt;</span>
<span style="color: #116329">&lt;/project&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div id="webapp" class="paragraph">
<p>web/pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
</pre></td><td class="code"><pre><span style="color: #116329">&lt;project&gt;</span>
    <span style="color: #116329">&lt;parent&gt;</span>
        <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft<span style="color: #116329">&lt;/groupId&gt;</span>
        <span style="color: #116329">&lt;artifactId&gt;</span>refImpl<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;/parent&gt;</span>
    <span style="color: #116329">&lt;modelVersion&gt;</span>4.0.0<span style="color: #116329">&lt;/modelVersion&gt;</span>
    <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft.refImpl<span style="color: #116329">&lt;/groupId&gt;</span>
    <span style="color: #116329">&lt;artifactId&gt;</span>web<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;name&gt;</span>web<span style="color: #116329">&lt;/name&gt;</span>
    <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;packaging&gt;</span>war<span style="color: #116329">&lt;/packaging&gt;</span>
    <span style="color: #116329">&lt;url&gt;</span>http://maven.apache.org<span style="color: #116329">&lt;/url&gt;</span>
    <span style="color: #116329">&lt;build&gt;</span>
        <span style="color: #116329">&lt;finalName&gt;</span>myproj-web<span style="color: #116329">&lt;/finalName&gt;</span>
    <span style="color: #116329">&lt;/build&gt;</span>
    <span style="color: #116329">&lt;dependencies&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft.refImpl<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>ejb<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;type&gt;</span>ejb<span style="color: #116329">&lt;/type&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>javax.annotation<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jsr250-api<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>postgresql<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>postgresql<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>8.2-504.jdbc3<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>runtime<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>javax.servlet<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>servlet-api<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>2.4<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>provided<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.seam<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jboss-seam<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;exclusions&gt;</span>
                <span style="color: #116329">&lt;exclusion&gt;</span>
                    <span style="color: #116329">&lt;groupId&gt;</span>javax.faces<span style="color: #116329">&lt;/groupId&gt;</span>
                    <span style="color: #116329">&lt;artifactId&gt;</span>jsf-api<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;/exclusion&gt;</span>
                <span style="color: #116329">&lt;exclusion&gt;</span>
                    <span style="color: #116329">&lt;groupId&gt;</span>javax.faces<span style="color: #116329">&lt;/groupId&gt;</span>
                    <span style="color: #116329">&lt;artifactId&gt;</span>jsf-impl<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;/exclusion&gt;</span>
            <span style="color: #116329">&lt;/exclusions&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.seam<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jboss-el<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.seam<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jboss-seam-ui<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.richfaces.framework<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>richfaces-impl<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.1.1-GA<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.richfaces.framework<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>richfaces-api<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.1.1-GA<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.richfaces.ui<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>richfaces-ui<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.1.1-GA<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>com.sun.faces<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>sandbox<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>0.9<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>commons-logging<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>commons-logging<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.1<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.hibernate<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>hibernate-validator<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.0.0.GA<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>runtime<span style="color: #116329">&lt;/scope&gt;</span>
            <span style="color: #116329">&lt;exclusions&gt;</span>
                <span style="color: #116329">&lt;exclusion&gt;</span>
                    <span style="color: #116329">&lt;groupId&gt;</span>org.hibernate<span style="color: #116329">&lt;/groupId&gt;</span>
                    <span style="color: #116329">&lt;artifactId&gt;</span>hibernate<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;/exclusion&gt;</span>
            <span style="color: #116329">&lt;/exclusions&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>javax.xml.ws<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jaxws-api<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>2.1<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>runtime<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>com.sun.facelets<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jsf-facelets<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>junit<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>junit<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>4.4<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>javax.faces<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jsf-api<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.2_05<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>javax.faces<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>jsf-impl<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.2_05<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>commons-logging<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>commons-logging<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.1<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>compile<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>commons-collections<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>commons-collections<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.2<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>compile<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>commons-digester<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>commons-digester<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.6<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>commons-beanutils<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>commons-beanutils<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.7.0<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>dom4j<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>dom4j<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.6.1-jboss<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>compile<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>el-impl<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>el-impl<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
    <span style="color: #116329">&lt;/dependencies&gt;</span>
<span style="color: #116329">&lt;/project&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div id="ear" class="paragraph">
<p>ear/pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="code"><pre><span style="color: #116329">&lt;project&gt;</span>
    <span style="color: #116329">&lt;parent&gt;</span>
        <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft<span style="color: #116329">&lt;/groupId&gt;</span>
        <span style="color: #116329">&lt;artifactId&gt;</span>refImpl<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;/parent&gt;</span>
    <span style="color: #116329">&lt;modelVersion&gt;</span>4.0.0<span style="color: #116329">&lt;/modelVersion&gt;</span>
    <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft.refImpl<span style="color: #116329">&lt;/groupId&gt;</span>
    <span style="color: #116329">&lt;artifactId&gt;</span>ear<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;name&gt;</span>ear<span style="color: #116329">&lt;/name&gt;</span>
    <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;packaging&gt;</span>ear<span style="color: #116329">&lt;/packaging&gt;</span>
    <span style="color: #116329">&lt;url&gt;</span>http://maven.apache.org<span style="color: #116329">&lt;/url&gt;</span>
    <span style="color: #116329">&lt;dependencies&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft.refImpl<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>web<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.0<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>runtime<span style="color: #116329">&lt;/scope&gt;</span>
            <span style="color: #116329">&lt;type&gt;</span>war<span style="color: #116329">&lt;/type&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
    <span style="color: #116329">&lt;/dependencies&gt;</span>
    <span style="color: #116329">&lt;build&gt;</span>
        <span style="color: #116329">&lt;finalName&gt;</span>myproj<span style="color: #116329">&lt;/finalName&gt;</span>
        <span style="color: #116329">&lt;plugins&gt;</span>
            <span style="color: #116329">&lt;plugin&gt;</span>
                <span style="color: #116329">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color: #116329">&lt;/groupId&gt;</span>
                <span style="color: #116329">&lt;artifactId&gt;</span>maven-ear-plugin<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;configuration&gt;</span>
                    <span style="color: #116329">&lt;modules&gt;</span>
                        <span style="color: #116329">&lt;webModule&gt;</span>
                            <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft.refImpl<span style="color: #116329">&lt;/groupId&gt;</span>
                            <span style="color: #116329">&lt;artifactId&gt;</span>web<span style="color: #116329">&lt;/artifactId&gt;</span>
                            <span style="color: #116329">&lt;contextRoot&gt;</span>myproj<span style="color: #116329">&lt;/contextRoot&gt;</span>
                        <span style="color: #116329">&lt;/webModule&gt;</span>
                    <span style="color: #116329">&lt;/modules&gt;</span>
                    <span style="color: #116329">&lt;resourceDir&gt;&lt;/resourceDir&gt;</span>
                <span style="color: #116329">&lt;/configuration&gt;</span>
            <span style="color: #116329">&lt;/plugin&gt;</span>
        <span style="color: #116329">&lt;/plugins&gt;</span>
    <span style="color: #116329">&lt;/build&gt;</span>
<span style="color: #116329">&lt;/project&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>It should be noted that this is my first real project with Maven.  There are likely things done in these POMs that don&#8217;t make sense.  Feel free to correct me, but please be kind. :)</p>
</div>
<div class="paragraph">
<p>Note that I&#8217;m using Hibernate, and not Toplink Essentials, even though I&#8217;m deploying to an Oracle application server.  I tried to use TLE&#8201;&#8212;&#8201;I really did&#8201;&#8212;&#8201;but I just couldn&#8217;t get it work reliably.  Hibernate did, so it won.</p>
</div>
<div class="paragraph">
<p>Probably the biggest issue was figuring out what Seam and Hibernate need.  I started with seam-gen and create a &lt;i&gt;really&lt;/i&gt; basic Seam app.  I ripped out all of the "extraneous" things, like security, drools, persistence, etc., and deployed the app to GlassFish to make sure it worked.  Once I got it working there, I deployed to OC4J, looked to see which class was missing, and added it to the POM.  Lather.  Rinse. Repeat.</p>
</div>
<div id="jpa" class="paragraph">
<p>The persistence configuration is pretty basic, but I did have to make one change (that I&#8217;m not sure I like) to make DB access not blow up:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
</pre></td><td class="code"><pre><span style="color: #116329">&lt;persistence</span> <span style="color: #116329">version=</span><span style="color: #0a3069">"1.0"</span>
	<span style="color: #116329">xmlns=</span><span style="color: #0a3069">"http://java.sun.com/xml/ns/persistence"</span>
	<span style="color: #116329">xmlns:xsi=</span><span style="color: #0a3069">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span style="color: #116329">xsi:schemaLocation=</span><span style="color: #0a3069">"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd"</span><span style="color: #116329">&gt;</span>
	<span style="color: #116329">&lt;persistence-unit</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"em"</span><span style="color: #116329">&gt;</span>
		<span style="color: #116329">&lt;provider&gt;</span>org.hibernate.ejb.HibernatePersistence<span style="color: #116329">&lt;/provider&gt;</span>
		<span style="color: #116329">&lt;non-jta-data-source&gt;</span>jdbc/SeamTest<span style="color: #116329">&lt;/non-jta-data-source&gt;</span>
		<span style="color: #6e7781">&lt;!-- ... --&gt;</span>
		<span style="color: #116329">&lt;properties&gt;</span>
			<span style="color: #116329">&lt;property</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"hibernate.dialect"</span> <span style="color: #116329">value=</span><span style="color: #0a3069">"org.hibernate.dialect.PostgreSQLDialect"</span><span style="color: #116329">/&gt;</span>
			<span style="color: #116329">&lt;property</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"hibernate.transaction.manager_lookup_class"</span> <span style="color: #116329">value=</span><span style="color: #0a3069">"org.hibernate.transaction.OC4JTransactionManagerLookup"</span><span style="color: #116329">/&gt;</span>
		<span style="color: #116329">&lt;/properties&gt;</span>
	<span style="color: #116329">&lt;/persistence-unit&gt;</span>
<span style="color: #116329">&lt;/persistence&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div id="orion" class="paragraph">
<p>There is one extra configuration step you will need if you are planning on using the JSF 1.2 reference implementation (which the Seam developers recommend, and I wholeheartedly do as well ;).  Oracle ships its own XML parser&#8201;&#8212;&#8201;an artifact that, I&#8217;m guessing, predates the inclusion of such a library in the JDK.  Ordinarily, this likely would not be a problem, except that, starting with 1.2_05, the JSF RI depends on JAXP 1.3; OC4J supports only <a href="http://www.oracle.com/technology/tech/java/oc4j/10131/OracleAS-NF-10131.pdf">JAXP 1.2</a>.  Since I&#8217;m dpeloying to a JDK 5 environment, I don&#8217;t need to bundle the library with my app, but I do need to tell OC4J not to use its own parser.  This is done with orion-application.xml, which I placed in <code>ear/src/main/application/META-INF</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
</pre></td><td class="code"><pre><span style="color: #116329">&lt;orion-application</span>
    <span style="color: #116329">xmlns:xsi=</span><span style="color: #0a3069">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span style="color: #116329">xsi:noNamespaceSchemaLocation=</span><span style="color: #0a3069">"http://xmlns.oracle.com/oracleas/schema/orion-application-10_0.xsd"</span>
    <span style="color: #116329">deployment-version=</span><span style="color: #0a3069">"10.1.3.1.0"</span> <span style="color: #116329">default-data-source=</span><span style="color: #0a3069">"jdbc/OracleDS"</span> <span style="color: #116329">component-classification=</span><span style="color: #0a3069">"external"</span>
    <span style="color: #116329">schema-major-version=</span><span style="color: #0a3069">"10"</span> <span style="color: #116329">schema-minor-version=</span><span style="color: #0a3069">"0"</span> <span style="color: #116329">&gt;</span>
    <span style="color: #116329">&lt;imported-shared-libraries&gt;</span>
        <span style="color: #116329">&lt;remove-inherited</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"oracle.toplink"</span><span style="color: #116329">/&gt;</span>
        <span style="color: #116329">&lt;remove-inherited</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"oracle.persistence"</span><span style="color: #116329">/&gt;</span>
        <span style="color: #116329">&lt;remove-inherited</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"oracle.xml"</span><span style="color: #116329">/&gt;</span>
        <span style="color: #116329">&lt;remove-inherited</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"oracle.xml.security"</span><span style="color: #116329">/&gt;</span>
    <span style="color: #116329">&lt;/imported-shared-libraries&gt;</span>
<span style="color: #116329">&lt;/orion-application&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This file tells OC4J not to import into my application its Toplink, persistence, XML, and XML security libraries.  The other three libraries may not need to be listed, but they were added at one point in my experimentation and do not appear to be hurting anything, so I have left them in.</p>
</div>
<div class="paragraph">
<p>Debu Panda <a href="http://debupanda.blogspot.com/2007/01/using-hibernate-as-pluggable-ejb-3-jpa.html">shows</a> how to use Hibernate as a pluggable EJB3 JPA provider by configuring Hibernate as a shared library and importing that library into your application via orion-application.xml, but I&#8217;m not a real big fan of that approach, as it requires a change to the server, and it has been my experience that administrators are loathe to do things like that.  Using the POMs and dependencies above, Hibernate is bundled with the application and works as the JPA provider without server alterations, so that&#8217;s a much more palatable approach in my books.  Debu&#8217;s way &lt;i&gt;does&lt;/i&gt; work, though, if you prefer that.  If you choose to go that route, make sure you mark the Hibernate library in your POM as being provided:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
</pre></td><td class="code"><pre><span style="color: #116329">&lt;dependency&gt;</span>
    <span style="color: #116329">&lt;groupId&gt;</span>org.hibernate<span style="color: #116329">&lt;/groupId&gt;</span>
    <span style="color: #116329">&lt;artifactId&gt;</span>hibernate-entitymanager<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;version&gt;</span>3.3.1.GA<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;scope&gt;</span>provided<span style="color: #116329">&lt;/scope&gt;</span>
<span style="color: #116329">&lt;/dependency&gt;</span>
<span style="color: #116329">&lt;dependency&gt;</span>
    <span style="color: #116329">&lt;groupId&gt;</span>org.hibernate<span style="color: #116329">&lt;/groupId&gt;</span>
    <span style="color: #116329">&lt;artifactId&gt;</span>hibernate-annotations<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;version&gt;</span>3.3.0.GA<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;scope&gt;</span>provided<span style="color: #116329">&lt;/scope&gt;</span>
<span style="color: #116329">&lt;/dependency&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>That should be all there is to it (assuming I did not forget to copy something).  If you have any issues with any of this, or, perhaps, some cleanups that can be made, I&#8217;d certainly love to hear your feedback.</p>
</div>
<div class="paragraph">
<p>Enjoy!</p>
</div>
</div>
</div>
    </div>
    <footer>
        <div class="grid">
            <div class="col tags">
                
                <span class="title">tags: </span>
                
                <a href="/tag/ejb3/">EJB3</a>
                <!--                <a href="https://jasondl.ee/tags/EJB3.html">EJB3</a>-->
                
                <a href="/tag/hibernate/">Hibernate</a>
                <!--                <a href="https://jasondl.ee/tags/Hibernate.html">Hibernate</a>-->
                
                <a href="/tag/jsf/">JSF</a>
                <!--                <a href="https://jasondl.ee/tags/JSF.html">JSF</a>-->
                
                <a href="/tag/jpa/">JPA</a>
                <!--                <a href="https://jasondl.ee/tags/JPA.html">JPA</a>-->
                
                <a href="/tag/maven/">Maven</a>
                <!--                <a href="https://jasondl.ee/tags/Maven.html">Maven</a>-->
                
                <a href="/tag/oc4j/">OC4J</a>
                <!--                <a href="https://jasondl.ee/tags/OC4J.html">OC4J</a>-->
                
                <a href="/tag/seam/">Seam</a>
                <!--                <a href="https://jasondl.ee/tags/Seam.html">Seam</a>-->
                
                
            </div>
            <div class="col"><span class="share-page" style="">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013&title=Seam and JPA/Hibernate on OC4J 10.1.3" rel="nofollow" target="_blank" title="Share on LinkedIn">
      <i class="fa fa-linkedin-square"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Seam and JPA/Hibernate on OC4J 10.1.3&url=https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013&via=jasondlee&related=jasondlee" rel="nofollow" target="_blank" title="Share on Twitter">
      <i class="fa fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013" rel="nofollow" target="_blank" title="Share on Facebook">
      <i class="fa fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="https://www.reddit.com/submit?url=https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
      <i class="fa fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Seam and JPA/Hibernate on OC4J 10.1.3&amp;body=Seam and JPA/Hibernate on OC4J 10.1.3 https://jasondl.ee/2007/seam-and-jpa-hibernate-on-oc4j-1013" title="Share via Email" >
      <i class="fa fa-envelope"></i>
  </a>
</span>
</div>
        </div>
    </footer>
</article>

        </div>
    </div>
    <div class="col-3 widget">
        <div>
            <h3>Search</h3>
            <!-- HTML elements for search -->
            <input type="text" id="search-input" placeholder="Search blog posts.." style="width: 98%"/>
            <ul id="results-container"></ul>

            <script>
                var sjs = SimpleJekyllSearch({
                    searchInput: document.getElementById('search-input'),
                    resultsContainer: document.getElementById('results-container'),
                    json: '/search.json',
                    limit: 50
                })
            </script>
        </div>
        <div>
            <h3>Quotes</h3>
            <p id="quote">Sample quote</p>
            <p id="source">Quote source</p>
        </div>
        <div>
            <h3>About</h3>
            <p><img src="/images/profile-pic.jpg" style="float:right; object-fit: scale-down; padding-bottom: 1em;"/>My name is Jason Lee. I am a software developer living in the middle of Oklahoma. I’ve been a professional developer since 1997,
using a variety of languages, including Java, Javascript, PHP, Python, Delphi, and even a bit of C#. I currently work for Red Hat
on the WildFly/EAP team, where, among other things, I maintain integrations for some MicroProfile specs, OpenTelemetry, Micrometer,
Jakarta Faces, and Bean Validation. (Full resume <a href="resume">here</a>.
LinkedIn <a href="https://www.linkedin.com/in/jasondlee">profile</a>)</p>

<p>I am the president of the Oklahoma City JUG, and an occasional speaker at the JUG and a variety of technical conferences.</p>

<p>On the personal side, I’m active in my church, and enjoy bass guitar, running, fishing, and a variety of martial arts. I’m also
married to a beautiful woman, and have two boys, who, thankfully, look like their mother.</p>

        </div>
        <div>
            <h3>My Links</h3>
            <ul>
                
                <li>
                    <a href="/presentations" title="Presentations">
                        Presentations
                    </a>
                </li>
                
                <li>
                    <a href="/assets/resume.pdf" title="Resume/CV">
                        Resume/CV
                    </a>
                </li>
                
                <li>
                    <a href="https://linkedin.com/in/jasondlee" title="LinkedIn">
                        LinkedIn
                    </a>
                </li>
                
                <li>
                    <a href="https://twitter.com/jasondlee" title="Twitter">
                        Twitter
                    </a>
                </li>
                
                <li>
                    <a href="https://mastodon.cloud/@jasondlee" title="Mastodon">
                        Mastodon
                    </a>
                </li>
                
                <li>
                    <a href="/tag" title="Tags">
                        Tags
                    </a>
                </li>
                
            </ul>

        </div>
        <div>
            <h3>Publications</h3>
            <ul>
                <li>
                    <div class="grid">
                        <div class="col-8" style="text-weight: bold; font-size: large">
                            <div>Java 9 Programming Blueprints:</div>
                            <div>
                                <a title="My Java 9 book at Amazon" href="https://amzn.to/2FD2XAo" style="padding-left: 10px">Amazon</a>
                            </div>
                            <div>
                                <a title="My Java 9 book at Packt"
                                   href="https://www.packtpub.com/application-development/java-9-programming-blueprints"
                                   style="padding-left: 10px">Packt</a>
                            </div>
                        </div>
                            <div class="col-4">
                                <a href="https://amzn.to/2FD2XAo"><img src="/images/2017/j9pb.png" width="100"/></a>
                            </div>
                    </div>
                </li>
                
                <li>
                    <a href="https://jaxenter.com/tips-for-writing-pluggable-java-ee-applications-105281.html" title="This article discusses ways to use Java EE specs to implement a simple, yet powerful plugin system with a minimum of thrid party libraries.">
                        Tips for Writing Pluggable Java EE Applications
                    </a>
                </li>
                
                <li>
                    <a href="http://www.oracle.com/technetwork/articles/javaee/jsf-templating-137822.html" title="An article Ken Paulsen and I wrote detailing easy JSF component creation">
                        JSFTemplating and Woodstock: Component Authoring Made Easy
                    </a>
                </li>
                
                <li>
                    <a href="http://jsfcentral.com/articles/lee-03-09.html" title="Jason Lee in depth: Mojarra and Scales">
                        Jason Lee in depth: Mojarra and Scales
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20090301060746/http://www.theserverside.com/news/thread.tss?thread_id=49343" title="My JavaOne 2008 Wrap Up">
                        Jason Lee: Postmortem for JavaOne 2008
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20130621192312/https://blogs.oracle.com/stories/entry/international_environmental" title="The GlassFish Adoption Story from my time at IEC">
                        International Environmental: A Cooling Company Which Prefers Hot Software
                    </a>
                </li>
                
                <li>
                    <a href="http://www.jsfcentral.com/articles/trenches_7.html" title="This details the project that spawned a couple of the Mojarra Scales components">
                        IEC donates custom JSF component to Mojarra Scales
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
<div class="footer">
    <div>
        <p>&#169; Copyright Jason Lee, 2005-2023. All rights reserved.</p>
    </div>
</div>
<!--
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-1091049-6', 'auto');
    ga('send', 'pageview');
</script>
-->
<script src="/assets/js/quotes.js" type="text/javascript"></script>
<script src="/assets/js/local.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
<script type="text/javascript" src="/assets/js/copy.js"></script>
</body>
</html>
