---
title: 'Bootstrapping a JSF 2 project'
author: 'Jason Lee'
layout: blog-post
date: 2009-1-12
tags: [ JavaServer Faces, jsf, Tutorials ]
---
<p>I needed a break this afternoon, so I thought I'd see how easy it is to bootstrap a JSF 2 project.  One of the biggest complaints about JSF 1.x is all that XML, so JSF 2 is aiming to fix that.  How have we done so far?  Based on this quick look (which is my first from-scratch JSF 2 app), really, really well.<!--more-->
</p>
<p>Here are the steps I took:
</p>
<ul>
<li>Create a web app project using the Maven archetype (because I'm lazy that way : ) :
<p>[source]mvn archetype:create -DgroupId=com.mycompany.app -DartifactId=my-webapp \
</p>
<p>    -DarchetypeArtifactId=maven-archetype-webapp[/source]
</p>
</li>
<li>Add FacesServlet to web.xml:
<p>[source lang="xml"]
</p>
    <servlet>
        <servlet-name>Faces Servlet</servlet-name>
        <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>Faces Servlet</servlet-name>
        <url-pattern>*.jsf</url-pattern>
    </servlet-mapping>
<p>[/source]</li>
</p>
<li>Add the JSF 2 jars (and their repo) to pom.xml:
<p>[source lang="xml"]
</p>
    <repositories>
        <repository>
            <id>maven2-repository.dev.java.net</id>
            <name>Java.net Repository for Maven</name>
            <url>http://download.java.net/maven/2</url>
        </repository>
    </repositories>
    <dependencies>
        <dependency>
            <groupId>com.sun.faces</groupId>
            <artifactId>jsf-api</artifactId>
            <version>2.0.0-b08</version>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>com.sun.faces</groupId>
            <artifactId>jsf-impl</artifactId>
            <version>2.0.0-b08</version>
            <scope>compile</scope>
        </dependency>
    </dependencies>
<p>[/source]</li>
</p>
<li>Create a managed bean:
<p>[source lang="java"]
</p>
<p>@ManagedBean(name="main", eager=true)
</p>
<p>public class MainBean {
</p>
<p>    public MainBean() {
</p>
<p>        System.err.println ("MainBean starting up!");
</p>
<p>    }
</p>
<p>    public String getText() {
</p>
<p>        return "Here is some text!";
</p>
<p>    }
</p>
<p>}[/source]</li>
</p>
<li>Create the view:
<p>[source lang="xml"]
</p>
<!DOCTYPE html
<p>      PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
</p>
<p>      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
</p>
<html xmlns="http://www.w3.org/1999/xhtml"
<p>      xmlns:f="http://java.sun.com/jsf/core"
</p>
<p>      xmlns:h="http://java.sun.com/jsf/html"
</p>
<p>      xmlns:ui="http://java.sun.com/jsf/facelets">
</p>
<head>
    <title>Should Not Be Displayed</title>
</head>
<body>
<ui:composition>
    <ui:define name="content">
<p>        #{main.text}
</p>
    </ui:define>
</ui:composition>
</body>
</html>
<p>[/source]</li>
</p>
<li>Build, deploy, browse</li>
</ul>
<p>Your web browser should now say "Here is some text!"  
</p>
<p>Did you notice that all but two of those steps are things you would do for <em>any</em> Java web app?  As soon as someone creates a JSF 2 Maven archetype, even that can be simplified.  Also notice that there was no mention of faces-config.xml.  The application doesn't have one.  Granted, this is an insanely simple application, so the need for faces-config.xml may still arise (navigation comes to mind, but I think we're working on a simplification for that too).  
</p>
<p>The rule of thumb seems to be that JSF is not well-suited for smaller, simpler apps where things like Grails, RoR, etc. are a better choice.  I think we'll see that JSF 2 changes that.
</p>
<p>[tags]jsf2[/tags]</p>
