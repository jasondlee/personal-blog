---
title: 'GlassFish 3.1.2 and REST Security'
author: 'Jason Lee'
layout: blog-post
date: 2012-3-1
tags: [ GlassFish, REST ]
---
<p>As you may know by now, we <a href="https://blogs.oracle.com/theaquarium/entry/glassfish_3_1_2_final">released GlassFish</a> 3.1.2 yesterday.  Tim Quinn has a nice <a href="https://blogs.oracle.com/quinn/entry/a_few_changes_to_secure">overview</a> of some of the security-related changes, but one change he didn't cover was one in the RESTful administration area, namely CSRF protection. I won't go into the details of what <a href="https://www.owasp.org/index.php/CSRF">CSRF attack</a> is here, but I do want to show we've added protections to GlassFish to make sure the server is as secure as possible.  </p>
<p>For the curious, we implemented the CSRF protection using a <a href="http://jersey.java.net/nonav/apidocs/latest/jersey/com/sun/jersey/api/container/filter/CsrfProtectionFilter.html">filter</a> provided by the <a href="http://jersey.java.net">Jersey</a> team.  As you can see from the javadoc, this change only affects requests that change state (POST, PUT, DELETE, etc).  </p>
<p>To update your client code, all you need to do is add the <code>X-Requested-By</code> header.  Its value doesn't matter: </p>
<pre><code>curl -X POST -H 'X-Requested-By: YeaGlassFish' -d key=value \
    http://localhost:4848/management/domain/path/to/resource</code></pre>
<p>That's all there is to it.  It's a very simple change, but an important one.  If you run into any issues with this, please let us know!</p>
