<!DOCTYPE html>
<html>
<head>
    <title>Coming Up for Air : Testing</title>

    <script src="/assets/js/simple-jekyll-search.min.js" type="text/javascript"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3GQK1YDRQM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-3GQK1YDRQM');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="me" href="https://mastodon.cloud/@jasondlee"/>

    <link rel="alternate" type="application/rss+xml" title="jasondl.ee RSS feed" href="/feed.xml">

    <link rel="stylesheet" href="/assets/css/main.css" />

    <!-- Web Fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Cherry+Cream+Soda">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Philosopher">
    <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css"/>

    <link rel="stylesheet" href="https://unpkg.com/primeflex@3.1.2/primeflex.css"/>
    <link rel="stylesheet" href="https://unpkg.com/primeflex/themes/saga-blue.css"/>
    <link rel="author" href="/images/profile-pic.jpg"/>
</head>
<body>
<div class="grid">
    <div class="col blogname">
        <span>
            <a href="https://jasondl.ee">Coming Up for Air</a>
        </span>
    </div>
</div>
<div class="grid main">
    <div class="col-9">
        <div id="content">
            

<h1>2019</h1>



<h2>December</h2>
<ul>
    
    <li>
        <a href="/2019/testing-spring-boot-repositories-with-flyway">Testing Spring Repositories with Flyway</a>
        <div><div class="paragraph">
<p>With my recent job change, I&#8217;ve gotten a chance to use <a href="https://spring.io/projects/spring-boot">Spring Boot</a>
in anger a bit. It&#8217;s been fun, and I&#8217;ve learned a fair bit about the current state of Spring (I still love you,
<a href="https://jakarta.ee/">Jakarta EE</a>!). One of my tasks involved adding a query method to a repository, and I wanted to
make sure the query worked before I pushed it upstream. To do that confidently, of course, required a unit test.
In this post, I&#8217;ll show how remarkably simple it is to test Spring Repositories using Flyway to set up schemas and
test data.</p>
</div></div>
    </li>
    
    <li>
        <a href="/2019/when-test-with-a-different-database-chokes-on-ddl">When Testing with a Different Database Chokes on Your DDL</a>
        <div><div class="paragraph">
<p>I recently found myself writing a test that needed a database. Unfortunately, our testing database,
<a href="https://h2database.com">H2</a>, doesn&#8217;t support all of the features of our production database,
<a href="https://www.postgresql.org/">PostgreSQL</a>. This meant that the
<a href="https://flywaydb.org/">Flyway</a> migrates used to manage the production database broke in the testing environment. The fix for
this turned out to be pretty simple.</p>
</div></div>
    </li>
    
</ul>



<h1>2013</h1>



<h2>September</h2>
<ul>
    
    <li>
        <a href="/2013/gradle-tip-running-a-single-test">Gradle Tip: Running a Single Test</a>
        <div><div class="paragraph">
<p>Using Maven, to run a single test (class), you would issue <code>mvn -Dtest=MyTest</code>. Gradle has similar functionality (<code>gradle -Dtest.single=MyTest</code>), though it seems to be much more powerful. You can get all the details <a href="http://www.gradle.org/docs/current/userguide/java_plugin.html#N12729">here</a>.</p>
</div></div>
    </li>
    
    <li>
        <a href="/2013/gradle-tip-better-test-debugging">Gradle Tip: Better Test Debugging</a>
        <div><div class="paragraph">
<p>In a <a href="/posts/2013/09/10/gradle-tip-attaching-a-debugger/">recent post</a>, I showed how to attach a debugger to tests run from the command line via Gradle. While it worked, it turns out that it&#8217;s a bit over kill.  Try this instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="bash"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span style="color: #0550ae">$ </span>gradle <span style="color: #116329">-Dtest</span>.debug <span style="color: #953800">test</span>
:compileJava
:processResources UP-TO-DATE
:classes
:compileTestJava
:processTestResources
:testClasses
:test
Listening <span style="color: #cf222e">for </span>transport dt_socket at address: 5005
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Attach your debugger to port 5005, and off you go. No need to modify your build.  Kudos to the <a href="http://netbeans.org">NetBeans</a> debugger output for helping me find that. ;)</p>
</div></div>
    </li>
    
    <li>
        <a href="/2013/gradle-arquillian-glassfish-embedded">Gradle + Arquillian + GlassFish Embedded</a>
        <div><div class="paragraph">
<p>I&#8217;ve recently been migrating all of my personal projects to Gradle. Since I use Arquillian, that means migrating that part of the build as well. However, being still fairly new to Gradle, how to handle that integration wasn&#8217;t immediately obvious. Thanks to <a href="https://twitter.com/bmuschko">Benjamin Muschko</a> and <a href="https://twitter.com/aslakknutsen">Aslak Knutsen</a>, I&#8217;ve finally gotten a working setup.</p>
</div></div>
    </li>
    
    <li>
        <a href="/2013/gradle-tip-attaching-a-debugger">Gradle Tip: Attaching a Debugger</a>
        <div><div class="paragraph">
<p>Maven offers a nice script to allow for attaching a debugger to your build, <code>mvnDebug</code>. Gradle does not. Again, though, Gradle makes it pretty easy to add this to your build.</p>
</div></div>
    </li>
    
</ul>



<h1>2012</h1>



<h2>January</h2>
<ul>
    
    <li>
        <a href="/2012/grabbing-screenshots-of-failed-selenium-tests">Grabbing Screenshots of Failed Selenium Tests</a>
        <div><div class="paragraph">
<p>For the GlassFish Administration Console, we have quite a few tests (about 133 at last count).  Given the nature and architecture of the application, we&#8217;ve chosen Selenium to drive our tests.  One of the problems we&#8217;ve faced, though, is understanding why a test failed due to the length of time the tests take (roughly 1.5 hours to run the whole suite).  Sometimes, we can look at the log and know exactly what failed, but not the why.  Did the screen render correctly?  Did, perhaps, the click, etc. not get performed (we&#8217;ve seen instances of that) leaving the application in a state not expected by the test?  Since I usually start the tests and move on to something else, we had no way of knowing.  Until now.  I finally sat down and figured out how to grab a screen shot when a test fails.  I&#8217;ve distilled that technique down to its essentials, which I&#8217;ll share here.</p>
</div></div>
    </li>
    
</ul>



<h1>2011</h1>



<h2>November</h2>
<ul>
    
    <li>
        <a href="/2011/testing-android-applications-with-maven-android-x86-and-virtualbox">Testing Android Applications with Maven, Android-x86 and VirtualBox</a>
        <div><div class="imageblock">
<div class="content">
<img src="/images/2011/04/cubtracker_logo_220_white.png" alt="cubtracker logo 220 white" width="140px">
</div>
</div>
<div class="paragraph">
<p>For a few months now, I&#8217;ve been working on a small application called <a href="http://cubtracker.com">Cub Tracker</a> which is designed to help Cub Scout den and pack leaders track the progress of the scouts assigned them.  I&#8217;m a big fan of testing, so I&#8217;ve done my best to follow TDD as I&#8217;ve worked on the app.  Early on, it became clear that I needed a better way to test, as the official Android app is slow and unreliable at times.  Via Twitter, I was turned on to <a href="http://www.android-x86.org/">Android-x86</a> and after a couple nights of hacking, I think I have a usable installation of Android-x86 under <a href="http://www.virtualbox.org/">VirtualBox</a> that has sped up my testing considerably.  In this article, I&#8217;ll show you how I did it.</p>
</div></div>
    </li>
    
    <li>
        <a href="/2011/book-review-real-world-java-ee-night-hacks-dissecting-the-business-tier">Book Review: Real World Java EE Night Hacks - Dissecting the Business Tier</a>
        <div><div class="imageblock">
<div class="content">
<img src="/images/2011/11/nighthacks.jpg" alt="title: &quot;'Real World Java EE Night Hacks&#8212;&#8203;Dissecting the Business Tier'&quot;">
</div>
</div>
<div class="paragraph">
<p>Last week, a great <a href="http://www.adam-bien.com/roller/abien/entry/building_plug_in_with_java">post</a> by <a href="http://www.adam-bien.com/roller/abien/">Adam</a> <a href="https://twitter.com/#!/AdamBien">Bien</a> brought his latest book, <em>Real World Java EE Night Hacks - Dissecting the Business Tier</em>, to mind.  I have since gotten myself a copy and thought I&#8217;d share my thoughts here.</p>
</div></div>
    </li>
    
</ul>



<h1>2010</h1>



<h2>October</h2>
<ul>
    
    <li>
        <a href="/2010/running-a-single-junit-test">Running a Single JUnit Test</a>
        <div><div class="paragraph">
<p>Part of my job as a developer is writing unit tests.  Lately, though, I&#8217;ve been spending more and more of my time in our tests, which take a long, long time to run.  For example, to run the GlassFish Admin Console&#8217;s StandaloneTest class, the last run took 17 minutes and 36 seconds.  Clearly, something needs to be done to speed that up overall, but I have to wait for the entire class to run just so that I can see if my one new/changed test works.  Try as I might, I have not been able to find a way to make the surefire Maven plugin run just that one test method.  This morning, though, I happened to stumble across a new feature of JUnit (as of 4.7, if I read correctly) that did the trick for me, which I&#8217;ll share here.</p>
</div></div>
    </li>
    
</ul>


<h2>March</h2>
<ul>
    
    <li>
        <a href="/2010/writing-selenium-tests-for-the-glassfish-admin-console">Writing Selenium Tests for the GlassFish Admin Console</a>
        <div><div class="paragraph">
<p>One of the results of the Oracle purchase of Sun has been an increased focus on testing&#8201;&#8212;&#8201;not that we didn&#8217;t test GlassFish before, but it was mostly manual in my area of the server.  The task of automating this fell to me, and, after a little&#8201;&#8212;&#8201;ahem&#8201;&#8212;&#8201;testing, I settled on <a href="http://seleniumhq.org/">Selenium</a>.</p>
</div></div>
    </li>
    
</ul>



<h1>2009</h1>



<h2>July</h2>
<ul>
    
    <li>
        <a href="/2009/facestester-0-3-has-been-released">FacesTester 0.3 Has Been Released</a>
        <div><div class="paragraph">
<p>After a lot of changes and a long delay, I&#8217;m pleased to announce that we have released FacesTester 0.3 tonight.  This version has a large number of new features.  Read on the for details.</p>
</div></div>
    </li>
    
</ul>


<h2>May</h2>
<ul>
    
    <li>
        <a href="/2009/facestester-02-has-been-released">FacesTester 0.2 Has Been Released</a>
        <div><div class="paragraph">
<p>Today we released FacesTester 0.2.  While this release has a number of bug fixes and more minor enhancements, one of the biggest new features is injection support. Leveraging the <code>InjectionProvider</code> Service Provider Interface (SPI) provided by Mojarra, FacesTester now supports the automagic injection of mock/test objects.  For example, the following managed bean:</p>
</div></div>
    </li>
    
</ul>


<h2>April</h2>
<ul>
    
    <li>
        <a href="/2009/facestester-can-now-test-state-saving">FacesTester Can Now Test State Saving</a>
        <div><div class="paragraph">
<p>In my experience, a pretty common bug with custom components is improper state saving.  Since JSF components are, currently, stateful, it&#8217;s important that custom components integrate with the frameworks state saving mechanism correctly.  Unfortunately, it can be an error-prone process, as it&#8217;s a manual effort.  Now, however, custom component authors can use FacesTester to exercise this aspect of their components to help insure proper state handling.  This article will show how to use this new feature of FacesTester.</p>
</div></div>
    </li>
    
    <li>
        <a href="/2009/facestester-01-released">FacesTester 0.1 Released</a>
        <div><div class="paragraph">
<p>About a month ago, I <a href="/announcing-facestester/">announced</a> a new project, FacesTester, a JUnit-based testing tool for JSF that my good friend <a href="http://www.rodcoffin.com/">Rod Coffin</a> and I have undertaken.  Since then, Rod posted a very nice <a href="http://blog.rodcoffin.com/?p=137">introduction</a> to FacesTester usage.  Today, we made our first official release, FacesTester 0.1.  The version number should indicate that it&#8217;s still a work in progress, but it is already quite functional (I, for one, have been using it to build a test suite for Mojarra Scales, which has helped drive out features and resolve bugs very quickly).  We wanted to push out a release to encourage people to download it, use it, and give us feedback.</p>
</div>
<div class="paragraph">
<p>So what does FacesTester currently support?  Quite a bit.  In this entry, we&#8217;ll take a quick look at what FacesTester offers, and what we have planned.</p>
</div></div>
    </li>
    
</ul>


<h2>March</h2>
<ul>
    
    <li>
        <a href="/2009/announcing-facestester">Announcing FacesTester</a>
        <div><div class="paragraph">
<p>One of the issues that has always troubled me with regard to writing JSF applications (or <em>any</em> web application, really) is how hard it is to test them.  Some time ago, while discussing various Java web frameworks, I stumbled across a class called <code>WicketTester</code>, which is part of the Wicket project.  Using this class, as best as I can tell, Wicket authors can easily test their applications very quickly.  Having taken the advice of Dale Hanchey, and old <a href="http://www.okbu.edu">college</a> professor of mine, "Never be too proud to steal a good idea," FacesTester was born.</p>
</div></div>
    </li>
    
</ul>



<h1>2007</h1>



<h2>March</h2>
<ul>
    
    <li>
        <a href="/2007/unit-testing-ejbs">Unit Testing EJBs</a>
        <div><div class="paragraph">
<p>As we&#8217;ve done more and more EJB development, we&#8217;ve had to think pretty hard about how to unit test our beans.  We&#8217;ve tried a couple of different approaches (including <em>not</em> testing, which I don&#8217;t recommend ;), but weren&#8217;t ever just real comfortable with the results.  I&#8217;m pretty happy with the method we&#8217;re using now, and it&#8217;s so simple, I&#8217;m a bit embarrassed that we didn&#8217;t think of it earlier.</p>
</div></div>
    </li>
    
</ul>



        </div>
    </div>
    <div class="col-3 widget">
        <div>
            <h3>Search</h3>
            <!-- HTML elements for search -->
            <input type="text" id="search-input" placeholder="Search blog posts.." style="width: 98%"/>
            <ul id="results-container"></ul>

            <script>
                var sjs = SimpleJekyllSearch({
                    searchInput: document.getElementById('search-input'),
                    resultsContainer: document.getElementById('results-container'),
                    json: '/search.json',
                    limit: 50
                })
            </script>
        </div>
        <div>
            <h3>Quotes</h3>
            <p id="quote">Sample quote</p>
            <p id="source">Quote source</p>
        </div>
        <div>
            <h3>About</h3>
            <p><img src="/images/profile-pic.jpg" style="float:right; object-fit: scale-down; padding-bottom: 1em;"/>My name is Jason Lee. I am a software developer living in the middle of Oklahoma. I’ve been a professional developer since 1997,
using a variety of languages, including Java, Javascript, PHP, Python, Delphi, and even a bit of C#. I currently work for Red Hat
on the WildFly/EAP team, where, among other things, I maintain integrations for some MicroProfile specs, OpenTelemetry, Micrometer,
Jakarta Faces, and Bean Validation. (Full resume <a href="resume">here</a>.
LinkedIn <a href="https://www.linkedin.com/in/jasondlee">profile</a>)</p>

<p>I am the president of the Oklahoma City JUG, and an occasional speaker at the JUG and a variety of technical conferences.</p>

<p>On the personal side, I’m active in my church, and enjoy bass guitar, running, fishing, and a variety of martial arts. I’m also
married to a beautiful woman, and have two boys, who, thankfully, look like their mother.</p>

        </div>
        <div>
            <h3>My Links</h3>
            <ul>
                
                <li>
                    <a href="/presentations" title="Presentations">
                        Presentations
                    </a>
                </li>
                
                <li>
                    <a href="/assets/resume.pdf" title="Resume/CV">
                        Resume/CV
                    </a>
                </li>
                
                <li>
                    <a href="https://linkedin.com/in/jasondlee" title="LinkedIn">
                        LinkedIn
                    </a>
                </li>
                
                <li>
                    <a href="https://twitter.com/jasondlee" title="Twitter">
                        Twitter
                    </a>
                </li>
                
                <li>
                    <a href="https://mastodon.cloud/@jasondlee" title="Mastodon">
                        Mastodon
                    </a>
                </li>
                
                <li>
                    <a href="/tag" title="Tags">
                        Tags
                    </a>
                </li>
                
            </ul>

        </div>
        <div>
            <h3>Publications</h3>
            <ul>
                <li>
                    <div class="grid">
                        <div class="col-8" style="text-weight: bold; font-size: large">
                            <div>Java 9 Programming Blueprints:</div>
                            <div>
                                <a title="My Java 9 book at Amazon" href="https://amzn.to/2FD2XAo" style="padding-left: 10px">Amazon</a>
                            </div>
                            <div>
                                <a title="My Java 9 book at Packt"
                                   href="https://www.packtpub.com/application-development/java-9-programming-blueprints"
                                   style="padding-left: 10px">Packt</a>
                            </div>
                        </div>
                            <div class="col-4">
                                <a href="https://amzn.to/2FD2XAo"><img src="/images/2017/j9pb.png" width="100"/></a>
                            </div>
                    </div>
                </li>
                
                <li>
                    <a href="https://jaxenter.com/tips-for-writing-pluggable-java-ee-applications-105281.html" title="This article discusses ways to use Java EE specs to implement a simple, yet powerful plugin system with a minimum of thrid party libraries.">
                        Tips for Writing Pluggable Java EE Applications
                    </a>
                </li>
                
                <li>
                    <a href="http://www.oracle.com/technetwork/articles/javaee/jsf-templating-137822.html" title="An article Ken Paulsen and I wrote detailing easy JSF component creation">
                        JSFTemplating and Woodstock: Component Authoring Made Easy
                    </a>
                </li>
                
                <li>
                    <a href="http://jsfcentral.com/articles/lee-03-09.html" title="Jason Lee in depth: Mojarra and Scales">
                        Jason Lee in depth: Mojarra and Scales
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20090301060746/http://www.theserverside.com/news/thread.tss?thread_id=49343" title="My JavaOne 2008 Wrap Up">
                        Jason Lee: Postmortem for JavaOne 2008
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20130621192312/https://blogs.oracle.com/stories/entry/international_environmental" title="The GlassFish Adoption Story from my time at IEC">
                        International Environmental: A Cooling Company Which Prefers Hot Software
                    </a>
                </li>
                
                <li>
                    <a href="http://www.jsfcentral.com/articles/trenches_7.html" title="This details the project that spawned a couple of the Mojarra Scales components">
                        IEC donates custom JSF component to Mojarra Scales
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
<div class="footer">
    <div>
        <p>&#169; Copyright Jason Lee, 2005-2023. All rights reserved.</p>
    </div>
</div>
<!--
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-1091049-6', 'auto');
    ga('send', 'pageview');
</script>
-->
<script src="/assets/js/quotes.js" type="text/javascript"></script>
<script src="/assets/js/local.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
<script type="text/javascript" src="/assets/js/copy.js"></script>
</body>
</html>
