<!DOCTYPE html>
<html>
<head>
    <title>Coming Up for Air : Extending the GlassFish v3 Prelude Administration Console</title>

    <script src="/assets/js/simple-jekyll-search.min.js" type="text/javascript"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3GQK1YDRQM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-3GQK1YDRQM');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="me" href="https://mastodon.cloud/@jasondlee"/>

    <link rel="alternate" type="application/rss+xml" title="jasondl.ee RSS feed" href="/feed.xml">

    <link rel="stylesheet" href="/assets/css/main.css" />

    <!-- Web Fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Cherry+Cream+Soda">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Philosopher">
    <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css"/>

    <link rel="stylesheet" href="https://unpkg.com/primeflex@3.1.2/primeflex.css"/>
    <link rel="stylesheet" href="https://unpkg.com/primeflex/themes/saga-blue.css"/>
    <link rel="author" href="/images/profile-pic.jpg"/>
</head>
<body>
<div class="grid">
    <div class="col blogname">
        <span>
            <a href="https://jasondl.ee">Coming Up for Air</a>
        </span>
    </div>
</div>
<div class="grid main">
    <div class="col-9">
        <div id="content">
            <article class="post">
    <h1 class="title" style="border-bottom: solid 1px #47586d; margin-bottom: 0.25rem;">
        Extending the GlassFish v3 Prelude Administration Console
    </h1>
    Thursday, November 06, 2008 | <span class="share-page" style="">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console&title=Extending the GlassFish v3 Prelude Administration Console" rel="nofollow" target="_blank" title="Share on LinkedIn">
      <i class="fa fa-linkedin-square"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Extending the GlassFish v3 Prelude Administration Console&url=https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console&via=jasondlee&related=jasondlee" rel="nofollow" target="_blank" title="Share on Twitter">
      <i class="fa fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console" rel="nofollow" target="_blank" title="Share on Facebook">
      <i class="fa fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="https://www.reddit.com/submit?url=https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
      <i class="fa fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Extending the GlassFish v3 Prelude Administration Console&amp;body=Extending the GlassFish v3 Prelude Administration Console https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console" title="Share via Email" >
      <i class="fa fa-envelope"></i>
  </a>
</span>

    <div>
        <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Today, the GlassFish community is launching <a href="https://glassfish.dev.java.net/downloads/v3-prelude.html">GlassFish v3 Prelude</a> (<a href="http://docs.sun.com/app/docs/doc/820-4494?l=en">Release Notes</a> and <a href="http://docs.sun.com/app/docs/doc/820-4836?l=en">Quick Start Guide</a>).  If you are not familiar with what Prelude is, <a href="http://weblogs.java.net/blog/kalali/archive/2008/10/one_pager_revie.html">here</a> is a short write up giving the high level details.  In this article, I&#8217;d like to focus on the third bullet there, "CLI and administration console extensibility."  Specifically, we&#8217;ll look at what it takes to create a plugin that will extend GlassFish v3&#8217;s Administration Console.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="table-of-contents">Table of Contents</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="#java-class">The Java Class</a></p>
</li>
<li>
<p><a href="#console-plugin-xml">The Config File</a></p>
</li>
<li>
<p><a href="#integration-points">Integration Points</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#config-integration-type">Integration Type</a></p>
</li>
<li>
<p><a href="#config-priority">Plugin Priority</a></p>
</li>
<li>
<p><a href="#config-parent-id">Parent ID</a></p>
</li>
<li>
<p><a href="#config-content">Plugin Content</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#define-content">Defining the Plugin Content</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="#defining-content-events">JSFTemplating Events</a></p>
</li>
<li>
<p><a href="#defining-content-handlers">JSFTemplating Handlers</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#summary">Summary</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Creating a plugin is really quite simple.  The bare minimum is one Java class, a ConsoleProvider, and one XML config file, console-config.xml.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="java-class">The Java Class</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Java class is very simple.  It must implement the <code>ConsoleProvider</code> interface, which will require one method, <code>getConfiguration</code>, and it must be annotated with the <a href="https://hk2.dev.java.net/">HK2</a> annotation, <code>@Service</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="code"><pre><span style="color: #8250df">@Service</span>
<span style="color: #cf222e">public</span> <span style="color: #cf222e">class</span> <span style="color: #953800">ConsolePluginExample</span> <span style="color: #cf222e">implements</span> <span style="color: #953800">ConsoleProvider</span> <span style="color: #0550ae">{</span>
    <span style="color: #cf222e">public</span> <span style="color: #953800">URL</span> <span style="color: #8250df">getConfiguration</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">return</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">;</span>
    <span style="color: #0550ae">}</span>
<span style="color: #0550ae">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Despite its apparent simplicity, this class does a couple of things for us.  By implementing the <code>Interface</code>, of course, it gives the Plugin service a type it knows about.  By using the <code>@Service</code> annotation, the Plugin service will able to locate this plugin (and any others in the system) by asking HK2 for all the <code>ConsoleProvider</code> instances it knows about.  But what about that <code>getConfiguration()</code> method?  That method tells the Plugin service where to find the plugin&#8217;s configuration file.  Unless you put that in a non-standard location, this implementation is what you will see.  If, however, you would like to move or rename the file, then this method will return a <code>URL</code> to that file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="console-plugin-xml">The Config File</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So that defines the plugin for the console, but how do we make it do anything interesting?  For that, we need to take a look at <code>/META-INF/admingui/console-plugin.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
</pre></td><td class="code"><pre><span style="color: #116329">&lt;console-config</span> <span style="color: #116329">id=</span><span style="color: #0a3069">'console-plugin-example'</span><span style="color: #116329">&gt;</span>
        type: "org.glassfish.admingui:treeNode"
    priority="40"
    parentId="Resources"
    content="treeNode.jsf" /&gt;
        type: "org.glassfish.admingui:tab"
    priority="22"
    parentId="jvmSettings"
    content="newTab2.jsf" /&gt;
        type: "org.glassfish.admingui:tab"
    priority="28"
    parentId="serverInstTabs"
    content="newTab1.jsf" /&gt;
<span style="color: #116329">&lt;/console-config&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This file does two things:  it gives a name for the plugin, "console-plugin-example," and defines a number of integration points, which are the really interesting part here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="integration-points">Integration Points</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An integration point defines a small, discrete bit of content to be included in the console, providing information about what it is and where it should go.  Let&#8217;s take a look at each piece of the integration point definiton.</p>
</div>
<div class="sect2">
<h3 id="config-integration-type">Integration Type</h3>
<div class="paragraph">
<p>Each <code>integration-point</code> element has several important pieces.  The first is the ID.  This must be unique for the current plugin.  Next is the type.  This describes the type of content we want to insert via this integration point.  The admin console defines several integration point types:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Integration Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Screen Shot</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.glassfish.admingui:applications</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This integration type allows a plugin to add itself to the list of managed applications (e.g, enterprise, web, etc).  This screen shot shows how the web plugin adds the "Web Application" link.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="/images/2008/11/applications.png"><img src="/images/2008/11/applications-150x150.png" alt="applications 150x150"></a></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.glassfish.admingui:commonTask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This type allows users to add entries to the Common Tasks page.  The implementation of this type is a good example of how flexible an integration type can be.  With this, plugin authors can add common tasks to existing sections (as the web plugin does) or create a new section (as the updatecenter plugin does).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="/images/2008/11/common-tasks.png"><img src="/images/2008/11/common-tasks-150x150.png" alt="common tasks 150x150"></a></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.glassfish.admingui:configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Like the applications type, this type allows a plugin author to add modules to the configuration start page.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="/images/2008/11/configuration.png"><img src="/images/2008/11/configuration-150x150.png" alt="configuration 150x150"></a></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.glassfish.admingui:mastheadStatusArea</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This type allows the user to add content to the status area of the masthead, which is the area in the header right below the product name (see screenshots).  Multiple plugins are allowed to use this integration type, with entries being list left to right, based on priority (see below).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="/images/2008/11/masthead-status-area.png"><img src="/images/2008/11/masthead-status-area-150x150.png" alt="masthead status area 150x150"></a></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.glassfish.admingui:resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This type allows a plugin author to add modules to the resources start page.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="/images/2008/11/resources.png"><img src="/images/2008/11/resources-150x150.png" alt="resources 150x150"></a></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.glassfish.admingui:serverInstTab</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This integration type allows a plugin author to create a new tab on the Application Server page, or to add content to an existing tab. In this screen shot, the web plugin adds the Monitoring tab to the main tab set, as well three tabs to the newly added Monitoring tab.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="/images/2008/11/server-inst-tabs.png"><img src="/images/2008/11/server-inst-tabs-150x150.png" alt="server inst tabs 150x150"></a></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.glassfish.admingui:treeNode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This integration point allows plugins to add nodes to the navigation tree.  The nodes can be added either to the root, or to any other node in the tree.  In this screen shot, we can see how the web plugin added the "Web Applications" node to "Applications,", and the "Web Container" and "Monitoring" nodes to "Configuration."</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="/images/2008/11/tree.png"><img src="/images/2008/11/tree-150x150.png" alt="tree 150x150"></a></span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="config-priority">Plugin Priority</h3>
<div class="paragraph">
<p>The next attribute is <code>priority</code>.  This attribute controls the order in which integration points are included, with the lower numbers coming &lt;i&gt;first&lt;/i&gt; (It might be best to think of this as "order" rather than "priority," despite the name).</p>
</div>
</div>
<div class="sect2">
<h3 id="config-parent-id">Parent ID</h3>
<div class="paragraph">
<p>The next attribute is <code>parentId</code>.  This tells the plugin service to which component to parent the included content.  Using our example above, the integration point <code>tabtestTreeNode</code> will be a child of the component whose ID is <code>Resources</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="config-content">Plugin Content</h3>
<div class="paragraph">
<p>Finally, the <code>content</code> attribute tells the plugin service where to find the content of the integration point.  This value is typically the path, relative to the plugin&#8217;s root, to the file that defines the content, which is simply a JSF page.  In our example, we point to "treeNode.jsf."  In a Maven project, this file would be in <code>src/main/resources</code>, and would be in the root directory of the resulting jar.  This example file&#8217;s contents look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">1
2
3
4
</pre></td><td class="code"><pre><span style="color: #116329">&lt;sun:treeNode</span> <span style="color: #116329">id=</span><span style="color: #0a3069">'tabtest'</span> <span style="color: #116329">imageURL=</span><span style="color: #0a3069">'resource/images/instance.gif'</span>
    <span style="color: #116329">target=</span><span style="color: #0a3069">'main'</span> <span style="color: #116329">text=</span><span style="color: #0a3069">'Test Node #1'</span> <span style="color: #116329">url=</span><span style="color: #0a3069">'tabtest/jdbcLists.jsf'</span><span style="color: #116329">/&gt;</span>
<span style="color: #116329">&lt;sun:treeNode</span> <span style="color: #116329">id=</span><span style="color: #0a3069">'tabtest2'</span> <span style="color: #116329">imageURL=</span><span style="color: #0a3069">'resource/images/instance.gif'</span>
    <span style="color: #116329">target=</span><span style="color: #0a3069">'main'</span> <span style="color: #116329">text=</span><span style="color: #0a3069">'Test Node #2'</span> <span style="color: #116329">url=</span><span style="color: #0a3069">'tabtest/jdbcLists.jsf'</span><span style="color: #116329">/&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The contents, of course, will vary depending on the plugins needs, and the type of the integration point, but, as you can see, this is just a snippet of JSF markup, which, in this case, defines two `sun:treeNode`s that will be inserted into the navigation tree.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="define-content">Defining the Plugin Content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At this point, we&#8217;ve created the plugin.  We&#8217;ve defined the integration points and specified their contents.  If that&#8217;s all a plugin needed to do, we&#8217;d be done, but it&#8217;s not, so we aren&#8217;t. :)  Once you have the UI elements specified and integrated with the console, you have to be able to make those components display data, perform actions, etc.  From this perspective, the plugin is just a normal JavaServer Faces application.  Given the architecture of the GlassFish v3 Prelude Administration Console, a plugin author has two options:  the normal JSF managed bean approach, or the JSFTemplating events/handlers approach.  JSF managed beans are a well understood and documented approach, but the same can&#8217;t be said about JSFTemplating Handlers and events.  While an exhaustive discussion is outside the scope of this article, I&#8217;d like to offer at least a cursory introduction.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="defining-content-events">JSFTemplating Events</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JSFTemplating provides a number of events that much more finely-grained than the standard JavaServer Faces lifecycle phases.  There are a number of events, but the ones of interest here are (for more information, please see the <a href="https://jsftemplating.dev.java.net/doc">JSFTemplating</a> site):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Event(s)</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">beforeCreate/afterCreate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This event fires before/after a component is created.  It fires once per view, so, as long as the user stays on the same page, this event will not fire over and over.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">beforeEncode/afterEncode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This event fires before/after a component is rendered.  Since this is at render time, this event fires every time the page is requested, so care should be taken in handling expensive operations in this event.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">initPage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This event fires everytime the page is requested.  As with beforeEncode/afterEncode, care should be taken in handling expensive operations in this event.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This event is for ActionSource components only and fires when the UICommand component is clicked.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="defining-content-handlers">JSFTemplating Handlers</h3>
<div class="paragraph">
<p>To attach a handler to an event, using JSFTemplating&#8217;s "template" syntax, one would do something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">1
2
3
4
</pre></td><td class="code"><pre><span style="color: #116329">&lt;sun:button</span> <span style="color: #116329">id=</span><span style="color: #0a3069">'button'</span> <span style="color: #116329">text=</span><span style="color: #0a3069">'Push Me!'</span><span style="color: #116329">&gt;</span>
    <span style="color: #6e7781">&lt;!command executeSomeBusinessLogic(amount="5.25",
        result=&gt;</span>$pageSession{businessLogicResult}); /&gt;
<span style="color: #116329">&lt;/sun:button&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This creates a <code>sun:button</code> and attaches the Handler <code>executeSomeBusinessLogic</code> to button.  When the button is clicked, the Handler is called, with the input variable <code>amount</code> being set to 5.  After execution, the value of the Handler&#8217;s output variable <code>result</code> is assigned a page-scoped variable called <code>businessLogicResult</code>, which can be referenced on the page using the EL expression <code><mark>{businessLogicResult}</code> or <code></mark>{pageSession.businessLogicResult}</code>.</p>
</div>
<div class="paragraph">
<p>The Handler, <code>executeSomeBusinessLogic</code> might look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre>    <span style="color: #8250df">@Handler</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">id</span><span style="color: #0550ae">=</span><span style="color: #0a3069">"executeSomeBusinessLogic"</span><span style="color: #0550ae">,</span>
        <span style="color: #24292f;background-color: #f6f8fa">input</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">{</span>
            <span style="color: #8250df">@HandlerInput</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">name</span><span style="color: #0550ae">=</span><span style="color: #0a3069">"amount"</span><span style="color: #0550ae">,</span> <span style="color: #0550ae">type:</span> <span style="color: #953800">Double</span><span style="color: #0550ae">.</span><span style="color: #116329">class</span><span style="color: #0550ae">,</span> <span style="color: #24292f;background-color: #f6f8fa">required</span><span style="color: #0550ae">=</span><span style="color: #0550ae">true</span><span style="color: #0550ae">)</span>
        <span style="color: #0550ae">},</span>
        <span style="color: #24292f;background-color: #f6f8fa">output</span><span style="color: #0550ae">=</span> <span style="color: #0550ae">{</span>
            <span style="color: #8250df">@HandlerOutput</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">name</span><span style="color: #0550ae">=</span><span style="color: #0a3069">"result"</span><span style="color: #0550ae">,</span> <span style="color: #0550ae">type:</span> <span style="color: #953800">String</span><span style="color: #0550ae">.</span><span style="color: #116329">class</span><span style="color: #0550ae">)</span>
        <span style="color: #0550ae">}</span>
    <span style="color: #0550ae">)</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">static</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">myBusinessLogicMethod</span> <span style="color: #0550ae">(</span><span style="color: #953800">HandlerContext</span> <span style="color: #24292f;background-color: #f6f8fa">handlerContext</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
        <span style="color: #953800">Double</span> <span style="color: #24292f;background-color: #f6f8fa">amount</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">(</span><span style="color: #953800">Double</span><span style="color: #0550ae">)</span><span style="color: #24292f;background-color: #f6f8fa">handlerContext</span><span style="color: #0550ae">.</span><span style="color: #116329">getInputValue</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"amount"</span><span style="color: #0550ae">);</span>
        <span style="color: #6e7781">// Do some work.</span>
        <span style="color: #6e7781">//     Get a reference to some external server</span>
        <span style="color: #6e7781">//     Perform all calculations locally</span>
        <span style="color: #6e7781">//     Whatever you need...</span>
        <span style="color: #24292f;background-color: #f6f8fa">handlerContext</span><span style="color: #0550ae">.</span><span style="color: #116329">setOutputValue</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"result"</span><span style="color: #0550ae">,</span> <span style="color: #0a3069">"Some string built from the business logic."</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>There are several things to note.  First, the annotation defines the id by which we reference the Handler (<code>executeSomeBusinessLogic</code>) and it need not match the actual method name.  Second, we have one input, <code>amount</code> which must be a <code>Double</code>, and is required.  If it is not provided, an <code>Exception</code> will be thrown.  Third, a single output variable, <code>result</code> of type <code>String</code> is returned.  Last, the method must be <code>public static void</code> and must take a single parameter of type <code>HandlerContext</code>.</p>
</div>
<div class="paragraph">
<p>Inside the method, we extract the input parameter using <code>HandlerContext.getInputValue()</code> and cast it to the expected type.  When we reach this point in the code, we can cast with out worrying about a <code>ClassCastException</code>, as JSFTemplating insures that the type is correct.  Since null could be a valid value, though, the Handler must perform null value checking as appropriate.  Next the Handler performs the business logic, whether it does it internally or delegates to another object, be it local or remote, then sets the value of the output variable, <code>result</code>.  The JSFTemplating event and Handler mechanism is, conceptually, a very simple, yet very powerful mechanism, of which the GlassFish v3 Prelude Administration Console makes heavy (and exclusive) use.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary">Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>And that&#8217;s all there is to writing a plugin for the GlassFish v3 Prelude Administration Console:  one simple class, an XML config file, a few managed beans or Handlers, and just a few JSF markup files as necessary for your plugin.  These simple building blocks make it extremely simple to <a href="http://docs.sun.com/app/docs/doc/820-6583'" class="bare">http://docs.sun.com/app/docs/doc/820-6583'</a> title: "'Sun GlassFish Enterprise Server v3 Prelude Add-On Component Development Guide[extend] the GlassFish v3 Prelude Administration Console.  In fact, most of the functionality that ships in the console uses this approach, demonstrating the power of the mechanism quite nicely.  The modularity of the GlassFish v3 kernel provides system integrators a practically unbounded array of opportunities for extending the application server, and the administration console&#8217;s plugin service makes it extremely easy to add administration support for any extension you might create.  How will you extend GlassFish?"</p>
</div>
</div>
</div>
    </div>
    <footer>
        <div class="grid">
            <div class="col tags">
                
                <span class="title">tags: </span>
                
                <a href="/tag/glassfish/">GlassFish</a>
                <!--                <a href="https://jasondl.ee/tags/GlassFish.html">GlassFish</a>-->
                
                <a href="/tag/java/">Java</a>
                <!--                <a href="https://jasondl.ee/tags/Java.html">Java</a>-->
                
                <a href="/tag/jsftemplating/">JSFTemplating</a>
                <!--                <a href="https://jasondl.ee/tags/JSFTemplating.html">JSFTemplating</a>-->
                
                <a href="/tag/tutorials/">Tutorials</a>
                <!--                <a href="https://jasondl.ee/tags/Tutorials.html">Tutorials</a>-->
                
                <a href="/tag/v3/">v3</a>
                <!--                <a href="https://jasondl.ee/tags/v3.html">v3</a>-->
                
                
            </div>
            <div class="col"><span class="share-page" style="">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console&title=Extending the GlassFish v3 Prelude Administration Console" rel="nofollow" target="_blank" title="Share on LinkedIn">
      <i class="fa fa-linkedin-square"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Extending the GlassFish v3 Prelude Administration Console&url=https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console&via=jasondlee&related=jasondlee" rel="nofollow" target="_blank" title="Share on Twitter">
      <i class="fa fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console" rel="nofollow" target="_blank" title="Share on Facebook">
      <i class="fa fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="https://www.reddit.com/submit?url=https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
      <i class="fa fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Extending the GlassFish v3 Prelude Administration Console&amp;body=Extending the GlassFish v3 Prelude Administration Console https://jasondl.ee/2008/extending-the-glassfish-v3-prelude-administration-console" title="Share via Email" >
      <i class="fa fa-envelope"></i>
  </a>
</span>
</div>
        </div>
    </footer>
</article>

        </div>
    </div>
    <div class="col-3 widget">
        <div>
            <h3>Search</h3>
            <!-- HTML elements for search -->
            <input type="text" id="search-input" placeholder="Search blog posts.." style="width: 98%"/>
            <ul id="results-container"></ul>

            <script>
                var sjs = SimpleJekyllSearch({
                    searchInput: document.getElementById('search-input'),
                    resultsContainer: document.getElementById('results-container'),
                    json: '/search.json',
                    limit: 50
                })
            </script>
        </div>
        <div>
            <h3>Quotes</h3>
            <p id="quote">Sample quote</p>
            <p id="source">Quote source</p>
        </div>
        <div>
            <h3>About</h3>
            <p><img src="/images/profile-pic.jpg" style="float:right; object-fit: scale-down; padding-bottom: 1em;"/>My name is Jason Lee. I am a software developer living in the middle of Oklahoma. I’ve been a professional developer since 1997,
using a variety of languages, including Java, Javascript, PHP, Python, Delphi, and even a bit of C#. I currently work for Red Hat
on the WildFly/EAP team, where, among other things, I maintain integrations for some MicroProfile specs, OpenTelemetry, Micrometer,
Jakarta Faces, and Bean Validation. (Full resume <a href="resume">here</a>.
LinkedIn <a href="https://www.linkedin.com/in/jasondlee">profile</a>)</p>

<p>I am the president of the Oklahoma City JUG, and an occasional speaker at the JUG and a variety of technical conferences.</p>

<p>On the personal side, I’m active in my church, and enjoy bass guitar, running, fishing, and a variety of martial arts. I’m also
married to a beautiful woman, and have two boys, who, thankfully, look like their mother.</p>

        </div>
        <div>
            <h3>My Links</h3>
            <ul>
                
                <li>
                    <a href="/presentations" title="Presentations">
                        Presentations
                    </a>
                </li>
                
                <li>
                    <a href="/assets/resume.pdf" title="Resume/CV">
                        Resume/CV
                    </a>
                </li>
                
                <li>
                    <a href="https://linkedin.com/in/jasondlee" title="LinkedIn">
                        LinkedIn
                    </a>
                </li>
                
                <li>
                    <a href="https://twitter.com/jasondlee" title="Twitter">
                        Twitter
                    </a>
                </li>
                
                <li>
                    <a href="https://mastodon.cloud/@jasondlee" title="Mastodon">
                        Mastodon
                    </a>
                </li>
                
                <li>
                    <a href="/tag" title="Tags">
                        Tags
                    </a>
                </li>
                
            </ul>

        </div>
        <div>
            <h3>Publications</h3>
            <ul>
                <li>
                    <div class="grid">
                        <div class="col-8" style="text-weight: bold; font-size: large">
                            <div>Java 9 Programming Blueprints:</div>
                            <div>
                                <a title="My Java 9 book at Amazon" href="https://amzn.to/2FD2XAo" style="padding-left: 10px">Amazon</a>
                            </div>
                            <div>
                                <a title="My Java 9 book at Packt"
                                   href="https://www.packtpub.com/application-development/java-9-programming-blueprints"
                                   style="padding-left: 10px">Packt</a>
                            </div>
                        </div>
                            <div class="col-4">
                                <a href="https://amzn.to/2FD2XAo"><img src="/images/2017/j9pb.png" width="100"/></a>
                            </div>
                    </div>
                </li>
                
                <li>
                    <a href="https://jaxenter.com/tips-for-writing-pluggable-java-ee-applications-105281.html" title="This article discusses ways to use Java EE specs to implement a simple, yet powerful plugin system with a minimum of thrid party libraries.">
                        Tips for Writing Pluggable Java EE Applications
                    </a>
                </li>
                
                <li>
                    <a href="http://www.oracle.com/technetwork/articles/javaee/jsf-templating-137822.html" title="An article Ken Paulsen and I wrote detailing easy JSF component creation">
                        JSFTemplating and Woodstock: Component Authoring Made Easy
                    </a>
                </li>
                
                <li>
                    <a href="http://jsfcentral.com/articles/lee-03-09.html" title="Jason Lee in depth: Mojarra and Scales">
                        Jason Lee in depth: Mojarra and Scales
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20090301060746/http://www.theserverside.com/news/thread.tss?thread_id=49343" title="My JavaOne 2008 Wrap Up">
                        Jason Lee: Postmortem for JavaOne 2008
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20130621192312/https://blogs.oracle.com/stories/entry/international_environmental" title="The GlassFish Adoption Story from my time at IEC">
                        International Environmental: A Cooling Company Which Prefers Hot Software
                    </a>
                </li>
                
                <li>
                    <a href="http://www.jsfcentral.com/articles/trenches_7.html" title="This details the project that spawned a couple of the Mojarra Scales components">
                        IEC donates custom JSF component to Mojarra Scales
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
<div class="footer">
    <div>
        <p>&#169; Copyright Jason Lee, 2005-2023. All rights reserved.</p>
    </div>
</div>
<!--
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-1091049-6', 'auto');
    ga('send', 'pageview');
</script>
-->
<script src="/assets/js/quotes.js" type="text/javascript"></script>
<script src="/assets/js/local.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
<script type="text/javascript" src="/assets/js/copy.js"></script>
</body>
</html>
