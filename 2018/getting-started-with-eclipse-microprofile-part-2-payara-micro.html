<!DOCTYPE html>
<html>
<head>
    <title>Coming Up for Air : Getting Started with Eclipse MicroProfile, Part 2: Payara Micro</title>

    <script src="/assets/js/simple-jekyll-search.min.js" type="text/javascript"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3GQK1YDRQM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-3GQK1YDRQM');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="me" href="https://mastodon.cloud/@jasondlee"/>

    <link rel="alternate" type="application/rss+xml" title="jasondl.ee RSS feed" href="/feed.xml">

    <link rel="stylesheet" href="/assets/css/main.css" />

    <!-- Web Fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Cherry+Cream+Soda">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Philosopher">
    <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css"/>

    <link rel="stylesheet" href="https://unpkg.com/primeflex@3.1.2/primeflex.css"/>
    <link rel="stylesheet" href="https://unpkg.com/primeflex/themes/saga-blue.css"/>
    <link rel="author" href="/images/profile-pic.jpg"/>
</head>
<body>
<div class="grid">
    <div class="col blogname">
        <span>
            <a href="https://jasondl.ee">Coming Up for Air</a>
        </span>
    </div>
</div>
<div class="grid main">
    <div class="col-9">
        <div id="content">
            <article class="post">
    <h1 class="title" style="border-bottom: solid 1px #47586d; margin-bottom: 0.25rem;">
        Getting Started with Eclipse MicroProfile, Part 2: Payara Micro
    </h1>
    Monday, October 15, 2018 | <span class="share-page" style="">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro&title=Getting Started with Eclipse MicroProfile, Part 2: Payara Micro" rel="nofollow" target="_blank" title="Share on LinkedIn">
      <i class="fa fa-linkedin-square"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Getting Started with Eclipse MicroProfile, Part 2: Payara Micro&url=https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro&via=jasondlee&related=jasondlee" rel="nofollow" target="_blank" title="Share on Twitter">
      <i class="fa fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro" rel="nofollow" target="_blank" title="Share on Facebook">
      <i class="fa fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="https://www.reddit.com/submit?url=https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
      <i class="fa fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Getting Started with Eclipse MicroProfile, Part 2: Payara Micro&amp;body=Getting Started with Eclipse MicroProfile, Part 2: Payara Micro https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro" title="Share via Email" >
      <i class="fa fa-envelope"></i>
  </a>
</span>

    <div>
        <div class="paragraph">
<p><a href="http://payara.fish/software/payara-server/payara-micro/">Payara Micro</a> is a MicroProfile implementation from the good folks at Payara, based on Payara Server, which is itself
based on GlassFish. Whew! If you&#8217;re familiar with either GlassFish or Payara, you should feel right at home with Payara
Micro.</p>
</div>
<div class="paragraph">
<p>To start, we need to understand how Payara Micro deploys the application. Payara Micro spins up an instance, albeit a
somewhat stripped down version, of Payara Server. Once the server instance has started, Payara Micro deploys your MP application
as a web application. In your build file (and we&#8217;ll be using Maven), you must declare that you are building a war file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre><span style="color: #116329">&lt;project</span> <span style="color: #116329">xmlns=</span><span style="color: #0a3069">"http://maven.apache.org/POM/4.0.0"</span>
        <span style="color: #116329">xmlns:xsi=</span><span style="color: #0a3069">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span style="color: #116329">xsi:schemaLocation=</span><span style="color: #0a3069">"http://maven.apache.org/POM/4.0.0 3
                             http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span style="color: #116329">&gt;</span>
    <span style="color: #116329">&lt;modelVersion&gt;</span>4.0.0<span style="color: #116329">&lt;/modelVersion&gt;</span>
    <span style="color: #116329">&lt;parent&gt;</span>
        <span style="color: #116329">&lt;artifactId&gt;</span>mp-demo-master<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;groupId&gt;</span>com.steeplesoft.microprofile<span style="color: #116329">&lt;/groupId&gt;</span>
        <span style="color: #116329">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;/parent&gt;</span>

    <span style="color: #116329">&lt;artifactId&gt;</span>payara-micro<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;packaging&gt;</span>war<span style="color: #116329">&lt;/packaging&gt;</span>

    <span style="color: #116329">&lt;name&gt;</span>payara-micro<span style="color: #116329">&lt;/name&gt;</span>
    <span style="color: #6e7781">&lt;!-- ... --&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, we need to declare the dependencies for Payara Micro, but we also need to declare a dependency on our common
module, as that&#8217;s where the actual application lives. The Payara Micro module here has no real application data in. :)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="code"><pre><span style="color: #116329">&lt;dependencies&gt;</span>
    <span style="color: #116329">&lt;dependency&gt;</span>
        <span style="color: #116329">&lt;groupId&gt;</span>org.eclipse.microprofile<span style="color: #116329">&lt;/groupId&gt;</span>
        <span style="color: #116329">&lt;artifactId&gt;</span>microprofile<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;version&gt;</span>2.0.1<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;type&gt;</span>pom<span style="color: #116329">&lt;/type&gt;</span>
        <span style="color: #116329">&lt;scope&gt;</span>provided<span style="color: #116329">&lt;/scope&gt;</span>
    <span style="color: #116329">&lt;/dependency&gt;</span>

    <span style="color: #116329">&lt;dependency&gt;</span>
        <span style="color: #116329">&lt;groupId&gt;</span>fish.payara.extras<span style="color: #116329">&lt;/groupId&gt;</span>
        <span style="color: #116329">&lt;artifactId&gt;</span>payara-micro<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;version&gt;</span>${version.payara}<span style="color: #116329">&lt;/version&gt;</span>
        <span style="color: #116329">&lt;scope&gt;</span>provided<span style="color: #116329">&lt;/scope&gt;</span>
    <span style="color: #116329">&lt;/dependency&gt;</span>

    <span style="color: #116329">&lt;dependency&gt;</span>
        <span style="color: #116329">&lt;groupId&gt;</span>${project.groupId}<span style="color: #116329">&lt;/groupId&gt;</span>
        <span style="color: #116329">&lt;artifactId&gt;</span>common<span style="color: #116329">&lt;/artifactId&gt;</span>
        <span style="color: #116329">&lt;version&gt;</span>${project.version}<span style="color: #116329">&lt;/version&gt;</span>
    <span style="color: #116329">&lt;/dependency&gt;</span>
<span style="color: #116329">&lt;/dependency&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, we can add the Payara Micro Maven Plugin to build, which will allow us to start and stop the server using Maven. We
will also add some configuration for the Maven Dependency Plugin to copy the Payara Micro jar to the build output directory
so that we can start and stop the server from the commandline:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="code"><pre><span style="color: #116329">&lt;build&gt;</span>
    <span style="color: #116329">&lt;plugins&gt;</span>
            <span style="color: #116329">&lt;plugin&gt;</span>
                <span style="color: #116329">&lt;groupId&gt;</span>fish.payara.maven.plugins<span style="color: #116329">&lt;/groupId&gt;</span>
                <span style="color: #116329">&lt;artifactId&gt;</span>payara-micro-maven-plugin<span style="color: #116329">&lt;/artifactId&gt;</span>
                <span style="color: #116329">&lt;version&gt;</span>1.0.2<span style="color: #116329">&lt;/version&gt;</span>
                <span style="color: #116329">&lt;configuration&gt;</span>
                    <span style="color: #116329">&lt;payaraVersion&gt;</span>${version.payara}<span style="color: #116329">&lt;/payaraVersion&gt;</span>
                    <span style="color: #116329">&lt;autoDeployArtifact&gt;</span>true<span style="color: #116329">&lt;/autoDeployArtifact&gt;</span>
                    <span style="color: #116329">&lt;deployArtifacts&gt;</span>
                        <span style="color: #116329">&lt;artifactItem&gt;</span>
                            <span style="color: #116329">&lt;groupId&gt;</span>${project.groupId}<span style="color: #116329">&lt;/groupId&gt;</span>
                            <span style="color: #116329">&lt;artifactId&gt;</span>${project.artifactId}<span style="color: #116329">&lt;/artifactId&gt;</span>
                            <span style="color: #116329">&lt;version&gt;</span>${project.version}<span style="color: #116329">&lt;/version&gt;</span>
                            <span style="color: #116329">&lt;type&gt;</span>war<span style="color: #116329">&lt;/type&gt;</span>
                        <span style="color: #116329">&lt;/artifactItem&gt;</span>
                    <span style="color: #116329">&lt;/deployArtifacts&gt;</span>
                    <span style="color: #116329">&lt;daemon&gt;</span>true<span style="color: #116329">&lt;/daemon&gt;</span>
                    <span style="color: #116329">&lt;deployWar&gt;</span>true<span style="color: #116329">&lt;/deployWar&gt;</span>
                <span style="color: #116329">&lt;/configuration&gt;</span>
            <span style="color: #116329">&lt;/plugin&gt;</span>
    <span style="color: #116329">&lt;/plugins&gt;</span>
<span style="color: #116329">&lt;/build&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>This will configure the plugin for both the bundle and start goals. That lets us create an uberjar:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="bash"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="code"><pre><span style="color: #0550ae">$ </span>mvn payara-micro:bundle
...
<span style="color: #0550ae">$ </span>java <span style="color: #116329">-jar</span> tart/payara-micro-microbundle.jar
...
<span style="color: #0550ae">[</span>2018-10-15T08:47:25.788-0500] <span style="color: #0550ae">[]</span> <span style="color: #0550ae">[</span>INFO] <span style="color: #0550ae">[]</span> <span style="color: #0550ae">[</span>PayaraMicro] <span style="color: #0550ae">[</span>tid: <span style="color: #0550ae">_ThreadID</span><span style="color: #0550ae">=</span>1 <span style="color: #0550ae">_ThreadName</span><span style="color: #0550ae">=</span>main] <span style="color: #0550ae">[</span>timeMillis: 1539611245788] <span style="color: #0550ae">[</span>levelValue: 800]
Payara Micro URLs:
http://jdlee:8080/payara-micro-1.0-SNAPSHOT
http://jdlee:8080/

<span style="color: #0a3069">'payara-micro-1.0-SNAPSHOT'</span> REST Endpoints:
GET     /payara-micro-1.0-SNAPSHOT/
GET     /payara-micro-1.0-SNAPSHOT/application.wadl

<span style="color: #0a3069">'ROOT'</span> REST Endpoints:
GET     /
GET     /application.wadl
GET     /openapi/
GET     /openapi/application.wadl

<span style="color: #0550ae">[</span>2018-10-15T08:47:25.789-0500] <span style="color: #0550ae">[]</span> <span style="color: #0550ae">[</span>INFO] <span style="color: #0550ae">[]</span> <span style="color: #0550ae">[</span>PayaraMicro] <span style="color: #0550ae">[</span>tid: <span style="color: #0550ae">_ThreadID</span><span style="color: #0550ae">=</span>1 <span style="color: #0550ae">_ThreadName</span><span style="color: #0550ae">=</span>main] <span style="color: #0550ae">[</span>timeMillis: 1539611245789] <span style="color: #0550ae">[</span>levelValue: 800] Payara Micro  5.183 <span style="color: #6e7781">#badassmicrofish (build 380) ready in 16,311 (ms)</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>And we can manually test our app:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="bash"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">1
2
3
4
</pre></td><td class="code"><pre><span style="color: #6e7781"># curl http://localhost:8080</span>
Hello, world
<span style="color: #6e7781"># curl http://localhost:8080/?name=Payara+Micro</span>
Hello, Payara Micro
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>I said we can test manually, but we can also write automated tests using <a href="http://arquillian.org/">Arquillian</a>. We start by
adding the dependencies for our tests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
</pre></td><td class="code"><pre><span style="color: #116329">&lt;dependencyManagement&gt;</span>
    <span style="color: #116329">&lt;dependencies&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.arquillian<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>arquillian-bom<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.4.0.Final<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;type&gt;</span>pom<span style="color: #116329">&lt;/type&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>import<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.shrinkwrap.resolver<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>shrinkwrap-resolver-bom<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>3.1.3<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;type&gt;</span>pom<span style="color: #116329">&lt;/type&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>import<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
    <span style="color: #116329">&lt;/dependencies&gt;</span>
<span style="color: #116329">&lt;/dependencyManagement&gt;</span>
<span style="color: #116329">&lt;dependencies&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.arquillian.junit<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>arquillian-junit-container<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.shrinkwrap.resolver<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>shrinkwrap-resolver-api-maven<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.jboss.shrinkwrap.resolver<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>shrinkwrap-resolver-impl-maven<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>junit<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>junit<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>4.12<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>org.apache.httpcomponents<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>httpclient<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>4.5.6<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>fish.payara.arquillian<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>arquillian-payara-micro-5-managed<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>1.0.Beta3<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
        <span style="color: #116329">&lt;dependency&gt;</span>
            <span style="color: #116329">&lt;groupId&gt;</span>fish.payara.extras<span style="color: #116329">&lt;/groupId&gt;</span>
            <span style="color: #116329">&lt;artifactId&gt;</span>payara-embedded-all<span style="color: #116329">&lt;/artifactId&gt;</span>
            <span style="color: #116329">&lt;version&gt;</span>${version.payara}<span style="color: #116329">&lt;/version&gt;</span>
            <span style="color: #116329">&lt;scope&gt;</span>test<span style="color: #116329">&lt;/scope&gt;</span>
        <span style="color: #116329">&lt;/dependency&gt;</span>
<span style="color: #116329">&lt;/dependencies&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s start with a simple test. This test will run in-container, and will demonstrate that the injection is working, and&#8230;&#8203;
that the methods can return Strings. :P</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="code"><pre><span style="color: #8250df">@RunWith</span><span style="color: #0550ae">(</span><span style="color: #953800">Arquillian</span><span style="color: #0550ae">.</span><span style="color: #116329">class</span><span style="color: #0550ae">)</span>
<span style="color: #cf222e">public</span> <span style="color: #cf222e">class</span> <span style="color: #953800">InjectionTest</span> <span style="color: #0550ae">{</span>
    <span style="color: #8250df">@Inject</span>
    <span style="color: #cf222e">private</span> <span style="color: #953800">HelloWorldService</span> <span style="color: #24292f;background-color: #f6f8fa">service</span><span style="color: #0550ae">;</span>
    <span style="color: #8250df">@Inject</span>
    <span style="color: #cf222e">private</span> <span style="color: #953800">HelloWorldResource</span> <span style="color: #24292f;background-color: #f6f8fa">resource</span><span style="color: #0550ae">;</span>

    <span style="color: #8250df">@Deployment</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">static</span> <span style="color: #953800">WebArchive</span> <span style="color: #8250df">createDeployment</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">return</span> <span style="color: #953800">ShrinkWrap</span><span style="color: #0550ae">.</span><span style="color: #116329">create</span><span style="color: #0550ae">(</span><span style="color: #953800">WebArchive</span><span style="color: #0550ae">.</span><span style="color: #116329">class</span><span style="color: #0550ae">)</span>
                <span style="color: #0550ae">.</span><span style="color: #116329">addPackage</span><span style="color: #0550ae">(</span><span style="color: #953800">HelloWorldService</span><span style="color: #0550ae">.</span><span style="color: #116329">class</span><span style="color: #0550ae">.</span><span style="color: #116329">getPackage</span><span style="color: #0550ae">())</span>
                <span style="color: #0550ae">.</span><span style="color: #116329">addAsWebInfResource</span><span style="color: #0550ae">(</span><span style="color: #953800">EmptyAsset</span><span style="color: #0550ae">.</span><span style="color: #116329">INSTANCE</span><span style="color: #0550ae">,</span> <span style="color: #0a3069">"beans.xml"</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>

    <span style="color: #8250df">@Test</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">verifyInjection</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">assert</span> <span style="color: #24292f;background-color: #f6f8fa">service</span> <span style="color: #0550ae">!=</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">;</span>
        <span style="color: #cf222e">assert</span> <span style="color: #24292f;background-color: #f6f8fa">resource</span> <span style="color: #0550ae">!=</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">;</span>
    <span style="color: #0550ae">}</span>

    <span style="color: #8250df">@Test</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">serviceSaysHelloCorrectly</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">assert</span> <span style="color: #0a3069">"Hello, Test"</span><span style="color: #0550ae">.</span><span style="color: #116329">equals</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">service</span><span style="color: #0550ae">.</span><span style="color: #116329">sayHello</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"Test"</span><span style="color: #0550ae">));</span>
    <span style="color: #0550ae">}</span>

    <span style="color: #8250df">@Test</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">resourceSaysHelloCorrectly</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">assert</span> <span style="color: #0a3069">"Hello, Test"</span><span style="color: #0550ae">.</span><span style="color: #116329">equals</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">resource</span><span style="color: #0550ae">.</span><span style="color: #116329">sayHello</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"Test"</span><span style="color: #0550ae">));</span>
    <span style="color: #0550ae">}</span>

<span style="color: #0550ae">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>That&#8217;s all there is to it. For using Payara Micro as an Arquillian container, there is no need, at least in the most basic
of usages, for <code>arquillian.xml</code>.</p>
</div>
<div class="paragraph">
<p>To run this test from IDEA, there seems to be a bit of extra work needed. It seems that Payara Micro depends on the
environment variable <code>MICRO_JAR</code> to tell the bootstrapping code where to find the JAR. It&#8217;s on the classpath, but that
doesn&#8217;t seem sufficient (I can, of course, be way off base&#8201;&#8212;&#8201;I&#8217;m not an expert on Payara Micro or Arquillian), so here
are the changes to my POM that I needed to make things work:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="code"><pre><span style="color: #116329">&lt;plugin&gt;</span>
    <span style="color: #116329">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color: #116329">&lt;/groupId&gt;</span>
    <span style="color: #116329">&lt;artifactId&gt;</span>maven-dependency-plugin<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;executions&gt;</span>
        <span style="color: #116329">&lt;execution&gt;</span>
            <span style="color: #116329">&lt;phase&gt;</span>process-test-resources<span style="color: #116329">&lt;/phase&gt;</span>
            <span style="color: #116329">&lt;goals&gt;</span>
                <span style="color: #116329">&lt;goal&gt;</span>copy<span style="color: #116329">&lt;/goal&gt;</span>
            <span style="color: #116329">&lt;/goals&gt;</span>
            <span style="color: #116329">&lt;configuration&gt;</span>
                <span style="color: #116329">&lt;artifactItems&gt;</span>
                    <span style="color: #116329">&lt;artifactItem&gt;</span>
                        <span style="color: #116329">&lt;groupId&gt;</span>fish.payara.extras<span style="color: #116329">&lt;/groupId&gt;</span>
                        <span style="color: #116329">&lt;artifactId&gt;</span>payara-micro<span style="color: #116329">&lt;/artifactId&gt;</span>
                        <span style="color: #116329">&lt;version&gt;</span>${version.payara}<span style="color: #116329">&lt;/version&gt;</span>
                        <span style="color: #116329">&lt;overWrite&gt;</span>false<span style="color: #116329">&lt;/overWrite&gt;</span>
                        <span style="color: #116329">&lt;outputDirectory&gt;</span>${project.build.directory}/<span style="color: #116329">&lt;/outputDirectory&gt;</span>
                        <span style="color: #116329">&lt;destFileName&gt;</span>payara-micro.jar<span style="color: #116329">&lt;/destFileName&gt;</span>
                    <span style="color: #116329">&lt;/artifactItem&gt;</span>
                <span style="color: #116329">&lt;/artifactItems&gt;</span>
            <span style="color: #116329">&lt;/configuration&gt;</span>
        <span style="color: #116329">&lt;/execution&gt;</span>
    <span style="color: #116329">&lt;/executions&gt;</span>
<span style="color: #116329">&lt;/plugin&gt;</span>
<span style="color: #116329">&lt;plugin&gt;</span>
    <span style="color: #116329">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color: #116329">&lt;/groupId&gt;</span>
    <span style="color: #116329">&lt;artifactId&gt;</span>maven-surefire-plugin<span style="color: #116329">&lt;/artifactId&gt;</span>
    <span style="color: #116329">&lt;configuration&gt;</span>
        <span style="color: #116329">&lt;environmentVariables&gt;</span>
            <span style="color: #116329">&lt;MICRO_JAR&gt;</span>${project.build.directory}/payara-micro.jar<span style="color: #116329">&lt;/MICRO_JAR&gt;</span>
        <span style="color: #116329">&lt;/environmentVariables&gt;</span>
    <span style="color: #116329">&lt;/configuration&gt;</span>
<span style="color: #116329">&lt;/plugin&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>It also seemed that I needed to run the tests from the command-line first to make sure the JAR file was in place, as it
<em>seems</em> that IDEA does not run the usual Maven lifecycle prior to running the tests. Again, I&#8217;m no expert, so if someone
who is can clear up the confusion, I would greatly appreciate it.</p>
</div>
<div class="paragraph">
<p>Finally, one last test, which will exercise our REST endpoint end-to-end:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td><td class="code"><pre><span style="color: #8250df">@RunWith</span><span style="color: #0550ae">(</span><span style="color: #953800">Arquillian</span><span style="color: #0550ae">.</span><span style="color: #116329">class</span><span style="color: #0550ae">)</span>
<span style="color: #8250df">@RunAsClient</span>
<span style="color: #cf222e">public</span> <span style="color: #cf222e">class</span> <span style="color: #953800">HelloWorldResourceTest</span> <span style="color: #0550ae">{</span>
    <span style="color: #8250df">@ArquillianResource</span>
    <span style="color: #cf222e">private</span> <span style="color: #953800">URL</span> <span style="color: #24292f;background-color: #f6f8fa">deploymentURL</span><span style="color: #0550ae">;</span>

    <span style="color: #8250df">@Deployment</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">static</span> <span style="color: #953800">WebArchive</span> <span style="color: #8250df">createDeployment</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">return</span> <span style="color: #953800">ShrinkWrap</span><span style="color: #0550ae">.</span><span style="color: #116329">create</span><span style="color: #0550ae">(</span><span style="color: #953800">WebArchive</span><span style="color: #0550ae">.</span><span style="color: #116329">class</span><span style="color: #0550ae">)</span>
                <span style="color: #0550ae">.</span><span style="color: #116329">addPackage</span><span style="color: #0550ae">(</span><span style="color: #953800">HelloWorldService</span><span style="color: #0550ae">.</span><span style="color: #116329">class</span><span style="color: #0550ae">.</span><span style="color: #116329">getPackage</span><span style="color: #0550ae">())</span>
                <span style="color: #0550ae">.</span><span style="color: #116329">addAsWebInfResource</span><span style="color: #0550ae">(</span><span style="color: #953800">EmptyAsset</span><span style="color: #0550ae">.</span><span style="color: #116329">INSTANCE</span><span style="color: #0550ae">,</span> <span style="color: #0a3069">"beans.xml"</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>

    <span style="color: #8250df">@Test</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">shouldSayWorld</span><span style="color: #0550ae">()</span> <span style="color: #cf222e">throws</span> <span style="color: #953800">URISyntaxException</span><span style="color: #0550ae">,</span> <span style="color: #953800">IOException</span> <span style="color: #0550ae">{</span>
        <span style="color: #24292f;background-color: #f6f8fa">requestAndTest</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">deploymentURL</span><span style="color: #0550ae">.</span><span style="color: #116329">toURI</span><span style="color: #0550ae">(),</span> <span style="color: #0a3069">"Hello, world"</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>

    <span style="color: #8250df">@Test</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">shouldSayPayara</span><span style="color: #0550ae">()</span> <span style="color: #cf222e">throws</span> <span style="color: #953800">URISyntaxException</span><span style="color: #0550ae">,</span> <span style="color: #953800">IOException</span> <span style="color: #0550ae">{</span>
        <span style="color: #24292f;background-color: #f6f8fa">requestAndTest</span><span style="color: #0550ae">(</span><span style="color: #cf222e">new</span> <span style="color: #953800">URIBuilder</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">deploymentURL</span><span style="color: #0550ae">.</span><span style="color: #116329">toURI</span><span style="color: #0550ae">())</span>
                <span style="color: #0550ae">.</span><span style="color: #116329">setParameter</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"name"</span><span style="color: #0550ae">,</span> <span style="color: #0a3069">"Payara"</span><span style="color: #0550ae">).</span><span style="color: #116329">build</span><span style="color: #0550ae">(),</span>
                <span style="color: #0a3069">"Hello, Payara"</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>

    <span style="color: #cf222e">private</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">requestAndTest</span><span style="color: #0550ae">(</span><span style="color: #953800">URI</span> <span style="color: #24292f;background-color: #f6f8fa">uri</span><span style="color: #0550ae">,</span> <span style="color: #953800">String</span> <span style="color: #24292f;background-color: #f6f8fa">s</span><span style="color: #0550ae">)</span> <span style="color: #cf222e">throws</span> <span style="color: #953800">IOException</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">try</span> <span style="color: #0550ae">(</span><span style="color: #953800">CloseableHttpResponse</span> <span style="color: #24292f;background-color: #f6f8fa">response</span> <span style="color: #0550ae">=</span> <span style="color: #953800">HttpClients</span><span style="color: #0550ae">.</span><span style="color: #116329">createMinimal</span><span style="color: #0550ae">().</span><span style="color: #116329">execute</span><span style="color: #0550ae">(</span><span style="color: #cf222e">new</span> <span style="color: #953800">HttpGet</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">uri</span><span style="color: #0550ae">)))</span> <span style="color: #0550ae">{</span>
            <span style="color: #cf222e">assert</span> <span style="color: #953800">EntityUtils</span><span style="color: #0550ae">.</span><span style="color: #116329">toString</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">response</span><span style="color: #0550ae">.</span><span style="color: #116329">getEntity</span><span style="color: #0550ae">()).</span><span style="color: #116329">equals</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">s</span><span style="color: #0550ae">);</span>
        <span style="color: #0550ae">}</span>
    <span style="color: #0550ae">}</span>
<span style="color: #0550ae">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>We tell JUnit to run the test with <code>Arquillian</code>, and that we want to run the tests on the client. Ordinarily, Arquillian
magically wraps up your tests, ships them to the server, and runs them there. For this test, we don&#8217;t want that, thus
<code>@RunAsClient</code>. Using the Apache HttpClient from HttpComponents, we make an "out of process" REST request to the endpoint
and verify the responses.</p>
</div>
<div class="paragraph">
<p>And there you have a very basic Payara Micro example, complete with working Arquillian tests. The thing to take away from
this is how simple it is to wrap your application in a Payara Micro runtime: the only additional work was configuring your
build to output the uberjar. That&#8217;s awesome, as that means there&#8217;s no real application glue required for the specific runtime
environment. We&#8217;ll see that this <em>mostly</em> holds true across the other MicroProfile, thus demonstrating the power of
standards and portability.</p>
</div>
<div class="paragraph">
<p>In the next <a href="/posts/2018/getting-started-with-eclipse-microprofile-part-3-thorntail.html">installment</a>, we&#8217;ll take a look at <a href="https://thorntail.io/">Thorntail</a>.</p>
</div>
<div class="paragraph">
<p>You can find the source for the whole project <a href="https://bitbucket.org/jdlee/microprofile-demo/">here</a>, and for this part
<a href="https://bitbucket.org/jdlee/microprofile-demo/src/master/payara-micro">here</a>.</p>
</div>
    </div>
    <footer>
        <div class="grid">
            <div class="col tags">
                
                <span class="title">tags: </span>
                
                <a href="/tag/java-ee/">Java EE</a>
                <!--                <a href="https://jasondl.ee/tags/Java EE.html">Java EE</a>-->
                
                <a href="/tag/microprofile/">MicroProfile</a>
                <!--                <a href="https://jasondl.ee/tags/MicroProfile.html">MicroProfile</a>-->
                
                
            </div>
            <div class="col"><span class="share-page" style="">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro&title=Getting Started with Eclipse MicroProfile, Part 2: Payara Micro" rel="nofollow" target="_blank" title="Share on LinkedIn">
      <i class="fa fa-linkedin-square"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Getting Started with Eclipse MicroProfile, Part 2: Payara Micro&url=https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro&via=jasondlee&related=jasondlee" rel="nofollow" target="_blank" title="Share on Twitter">
      <i class="fa fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro" rel="nofollow" target="_blank" title="Share on Facebook">
      <i class="fa fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="https://www.reddit.com/submit?url=https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
      <i class="fa fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Getting Started with Eclipse MicroProfile, Part 2: Payara Micro&amp;body=Getting Started with Eclipse MicroProfile, Part 2: Payara Micro https://jasondl.ee/2018/getting-started-with-eclipse-microprofile-part-2-payara-micro" title="Share via Email" >
      <i class="fa fa-envelope"></i>
  </a>
</span>
</div>
        </div>
    </footer>
</article>

        </div>
    </div>
    <div class="col-3 widget">
        <div>
            <h3>Search</h3>
            <!-- HTML elements for search -->
            <input type="text" id="search-input" placeholder="Search blog posts.." style="width: 98%"/>
            <ul id="results-container"></ul>

            <script>
                var sjs = SimpleJekyllSearch({
                    searchInput: document.getElementById('search-input'),
                    resultsContainer: document.getElementById('results-container'),
                    json: '/search.json',
                    limit: 50
                })
            </script>
        </div>
        <div>
            <h3>Quotes</h3>
            <p id="quote">Sample quote</p>
            <p id="source">Quote source</p>
        </div>
        <div>
            <h3>About</h3>
            <p><img src="/images/profile-pic.jpg" style="float:right; object-fit: scale-down; padding-bottom: 1em;"/>My name is Jason Lee. I am a software developer living in the middle of Oklahoma. I’ve been a professional developer since 1997,
using a variety of languages, including Java, Javascript, PHP, Python, Delphi, and even a bit of C#. I currently work for Red Hat
on the WildFly/EAP team, where, among other things, I maintain integrations for some MicroProfile specs, OpenTelemetry, Micrometer,
Jakarta Faces, and Bean Validation. (Full resume <a href="resume">here</a>.
LinkedIn <a href="https://www.linkedin.com/in/jasondlee">profile</a>)</p>

<p>I am the president of the Oklahoma City JUG, and an occasional speaker at the JUG and a variety of technical conferences.</p>

<p>On the personal side, I’m active in my church, and enjoy bass guitar, running, fishing, and a variety of martial arts. I’m also
married to a beautiful woman, and have two boys, who, thankfully, look like their mother.</p>

        </div>
        <div>
            <h3>My Links</h3>
            <ul>
                
                <li>
                    <a href="/presentations" title="Presentations">
                        Presentations
                    </a>
                </li>
                
                <li>
                    <a href="/assets/resume.pdf" title="Resume/CV">
                        Resume/CV
                    </a>
                </li>
                
                <li>
                    <a href="https://linkedin.com/in/jasondlee" title="LinkedIn">
                        LinkedIn
                    </a>
                </li>
                
                <li>
                    <a href="https://twitter.com/jasondlee" title="Twitter">
                        Twitter
                    </a>
                </li>
                
                <li>
                    <a href="https://mastodon.cloud/@jasondlee" title="Mastodon">
                        Mastodon
                    </a>
                </li>
                
                <li>
                    <a href="/tag" title="Tags">
                        Tags
                    </a>
                </li>
                
            </ul>

        </div>
        <div>
            <h3>Publications</h3>
            <ul>
                <li>
                    <div class="grid">
                        <div class="col-8" style="text-weight: bold; font-size: large">
                            <div>Java 9 Programming Blueprints:</div>
                            <div>
                                <a title="My Java 9 book at Amazon" href="https://amzn.to/2FD2XAo" style="padding-left: 10px">Amazon</a>
                            </div>
                            <div>
                                <a title="My Java 9 book at Packt"
                                   href="https://www.packtpub.com/application-development/java-9-programming-blueprints"
                                   style="padding-left: 10px">Packt</a>
                            </div>
                        </div>
                            <div class="col-4">
                                <a href="https://amzn.to/2FD2XAo"><img src="/images/2017/j9pb.png" width="100"/></a>
                            </div>
                    </div>
                </li>
                
                <li>
                    <a href="https://jaxenter.com/tips-for-writing-pluggable-java-ee-applications-105281.html" title="This article discusses ways to use Java EE specs to implement a simple, yet powerful plugin system with a minimum of thrid party libraries.">
                        Tips for Writing Pluggable Java EE Applications
                    </a>
                </li>
                
                <li>
                    <a href="http://www.oracle.com/technetwork/articles/javaee/jsf-templating-137822.html" title="An article Ken Paulsen and I wrote detailing easy JSF component creation">
                        JSFTemplating and Woodstock: Component Authoring Made Easy
                    </a>
                </li>
                
                <li>
                    <a href="http://jsfcentral.com/articles/lee-03-09.html" title="Jason Lee in depth: Mojarra and Scales">
                        Jason Lee in depth: Mojarra and Scales
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20090301060746/http://www.theserverside.com/news/thread.tss?thread_id=49343" title="My JavaOne 2008 Wrap Up">
                        Jason Lee: Postmortem for JavaOne 2008
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20130621192312/https://blogs.oracle.com/stories/entry/international_environmental" title="The GlassFish Adoption Story from my time at IEC">
                        International Environmental: A Cooling Company Which Prefers Hot Software
                    </a>
                </li>
                
                <li>
                    <a href="http://www.jsfcentral.com/articles/trenches_7.html" title="This details the project that spawned a couple of the Mojarra Scales components">
                        IEC donates custom JSF component to Mojarra Scales
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
<div class="footer">
    <div>
        <p>&#169; Copyright Jason Lee, 2005-2023. All rights reserved.</p>
    </div>
</div>
<!--
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-1091049-6', 'auto');
    ga('send', 'pageview');
</script>
-->
<script src="/assets/js/quotes.js" type="text/javascript"></script>
<script src="/assets/js/local.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
<script type="text/javascript" src="/assets/js/copy.js"></script>
</body>
</html>
