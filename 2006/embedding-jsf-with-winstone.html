<!DOCTYPE html>
<html>
<head>
    <title>Coming Up for Air : Embedding JSF with Winstone</title>

    <script src="/assets/js/simple-jekyll-search.min.js" type="text/javascript"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3GQK1YDRQM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-3GQK1YDRQM');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="me" href="https://mastodon.cloud/@jasondlee"/>

    <link rel="alternate" type="application/rss+xml" title="jasondl.ee RSS feed" href="/feed.xml">

    <link rel="stylesheet" href="/assets/css/main.css" />

    <!-- Web Fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Cherry+Cream+Soda">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Philosopher">
    <link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css"/>

    <link rel="stylesheet" href="https://unpkg.com/primeflex@3.1.2/primeflex.css"/>
    <link rel="stylesheet" href="https://unpkg.com/primeflex/themes/saga-blue.css"/>
    <link rel="author" href="/images/profile-pic.jpg"/>
</head>
<body>
<div class="grid">
    <div class="col blogname">
        <span>
            <a href="https://jasondl.ee">Coming Up for Air</a>
        </span>
    </div>
</div>
<div class="grid main">
    <div class="col-9">
        <div id="content">
            <article class="post">
    <h1 class="title" style="border-bottom: solid 1px #47586d; margin-bottom: 0.25rem;">
        Embedding JSF with Winstone
    </h1>
    Monday, May 08, 2006 | <span class="share-page" style="">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://jasondl.ee/2006/embedding-jsf-with-winstone&title=Embedding JSF with Winstone" rel="nofollow" target="_blank" title="Share on LinkedIn">
      <i class="fa fa-linkedin-square"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Embedding JSF with Winstone&url=https://jasondl.ee/2006/embedding-jsf-with-winstone&via=jasondlee&related=jasondlee" rel="nofollow" target="_blank" title="Share on Twitter">
      <i class="fa fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://jasondl.ee/2006/embedding-jsf-with-winstone" rel="nofollow" target="_blank" title="Share on Facebook">
      <i class="fa fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="https://www.reddit.com/submit?url=https://jasondl.ee/2006/embedding-jsf-with-winstone" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
      <i class="fa fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Embedding JSF with Winstone&amp;body=Embedding JSF with Winstone https://jasondl.ee/2006/embedding-jsf-with-winstone" title="Share via Email" >
      <i class="fa fa-envelope"></i>
  </a>
</span>

    <div>
        <div class="paragraph">
<p>Sometimes, when developing a JSF application, it would be nice not to have to wait for your favorite container to start up.  That&#8217;s especially true if your container is a full JEE stack like GlassFish or JBoss.  Likewise, there are times when you might need to embed a web application in another, say some server process or desktop application.  While there are a number of options available, I&#8217;d like to demonstrate how to embed a simple JSF application using the <a href="http://winstone.sourceforge.net/">Winstone Servlet Container</a>.  To help demonstrate how this is done, we&#8217;ll use a well know sample application:  <a href="http://java.sun.com/developer/technicalArticles/GUI/JavaServerFaces/">Duke&#8217;s guessNumber game</a>, and, to make things even more interesting, we&#8217;ll convert the application to use Facelets (mostly because I love Facelets, but partly because I didn&#8217;t care to figure out how to make Winstone compile JSPs ;) ).</p>
</div>
<div class="paragraph">
<p>First, let&#8217;s take a look at the web app itself.  To convert the application to a Facelets app, we&#8217;ll have to rename the JSPs, then make them conform to XHTML and Facelets specifications.  First off, a really easy one:  index.html.  This page simply redirects us to guessNumber.xhtml.  I could probably have done this in web.xml, but it was in the original app, so we&#8217;ll just run with it like that.</p>
</div>
<div class="paragraph">
<p>index.html:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="html"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span style="color: #116329">&lt;html&gt;</span>
    <span style="color: #116329">&lt;head&gt;</span>
        <span style="color: #116329">&lt;META</span> <span style="color: #116329">HTTP-EQUIV=</span><span style="color: #0a3069">Refresh</span> <span style="color: #116329">CONTENT=</span><span style="color: #0a3069">"0; URL=greeting.jsf"</span><span style="color: #116329">&gt;</span>
    <span style="color: #116329">&lt;/head&gt;</span>
    <span style="color: #116329">&lt;body&gt;</span>
    <span style="color: #116329">&lt;/body&gt;</span>
<span style="color: #116329">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Pretty simple and boring.  Let&#8217;s now take a look at our template file (for a fuller introduction to using Facelets, please see Rick Hightower&#8217;s excellent <a href="http://www-128.ibm.com/developerworks/java/library/j-facelets/index.html">article</a>, as well as Jim Hazen&#8217;s <a href="http://www.jroller.com/page/CptnKirk?entry=getting_started_with_facelets_part">Getting Started</a> article):</p>
</div>
<div class="paragraph">
<p>layout.xhtml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="html"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="code"><pre><span style="color: #6e7781">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span>
<span style="color: #116329">&lt;html</span> <span style="color: #116329">xmlns=</span><span style="color: #0a3069">"http://www.w3.org/1999/xhtml"</span>
    <span style="color: #116329">xmlns:ui=</span><span style="color: #0a3069">"http://java.sun.com/jsf/facelets"</span>
    <span style="color: #116329">xmlns:h=</span><span style="color: #0a3069">"http://java.sun.com/jsf/html"</span>
    <span style="color: #116329">xmlns:f=</span><span style="color: #0a3069">"http://java.sun.com/jsf/core"</span><span style="color: #116329">&gt;</span>
<span style="color: #116329">&lt;head&gt;</span>
    <span style="color: #116329">&lt;title&gt;&lt;ui:insert</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"title"</span><span style="color: #116329">&gt;</span>Default title<span style="color: #116329">&lt;/ui:insert&gt;&lt;/title&gt;</span>
    <span style="color: #116329">&lt;link</span> <span style="color: #116329">rel=</span><span style="color: #0a3069">"stylesheet"</span> <span style="color: #116329">type:</span> <span style="color: #f6f8fa;background-color: #82071e">"</span><span style="color: #116329">text</span><span style="color: #f6f8fa;background-color: #82071e">/</span><span style="color: #116329">css</span><span style="color: #f6f8fa;background-color: #82071e">"</span> <span style="color: #116329">href=</span><span style="color: #0a3069">"./css/main.css"</span><span style="color: #116329">/&gt;</span>
<span style="color: #116329">&lt;/head&gt;</span>
<span style="color: #116329">&lt;body&gt;</span>
    <span style="color: #116329">&lt;div</span> <span style="color: #116329">style=</span><span style="color: #0a3069">"float: left"</span><span style="color: #116329">&gt;</span>
        <span style="color: #116329">&lt;h:graphicImage</span> <span style="color: #116329">id=</span><span style="color: #0a3069">"waveImg"</span> <span style="color: #116329">url=</span><span style="color: #0a3069">"/wave.med.gif"</span> <span style="color: #116329">/&gt;</span>
    <span style="color: #116329">&lt;/div&gt;</span>
    <span style="color: #116329">&lt;div&gt;</span>
        <span style="color: #116329">&lt;ui:insert</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"content"</span><span style="color: #116329">&gt;&lt;/ui:insert&gt;</span>
    <span style="color: #116329">&lt;/div&gt;</span>
<span style="color: #116329">&lt;/body&gt;</span>
<span style="color: #116329">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Nothing real exciting there either.  Next we have greeting.xhtml and response.xhtml.</p>
</div>
<div class="paragraph">
<p>greeting.xhtml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="html"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="code"><pre><span style="color: #6e7781">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span>
<span style="color: #116329">&lt;html</span> <span style="color: #116329">xmlns=</span><span style="color: #0a3069">"http://www.w3.org/1999/xhtml"</span>
    <span style="color: #116329">xmlns:ui=</span><span style="color: #0a3069">"http://java.sun.com/jsf/facelets"</span>
    <span style="color: #116329">xmlns:h=</span><span style="color: #0a3069">"http://java.sun.com/jsf/html"</span>
    <span style="color: #116329">xmlns:f=</span><span style="color: #0a3069">"http://java.sun.com/jsf/core"</span><span style="color: #116329">&gt;</span>
<span style="color: #116329">&lt;ui:composition</span> <span style="color: #116329">template=</span><span style="color: #0a3069">"layout.xhtml"</span><span style="color: #116329">&gt;</span>
    <span style="color: #116329">&lt;ui:define</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"title"</span><span style="color: #116329">&gt;</span>Number Guess<span style="color: #116329">&lt;/ui:define&gt;</span>
    <span style="color: #116329">&lt;ui:define</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"content"</span><span style="color: #116329">&gt;</span>
        <span style="color: #116329">&lt;h:form</span> <span style="color: #116329">id=</span><span style="color: #0a3069">"helloForm"</span> <span style="color: #116329">&gt;</span>
            <span style="color: #116329">&lt;h2&gt;</span>Hi. My name is Duke.  I'm thinking of a number from
            <span style="color: #116329">&lt;h:outputText</span> <span style="color: #116329">value=</span><span style="color: #0a3069">"#{UserNumberBean.minimum}"</span><span style="color: #116329">/&gt;</span> to
            <span style="color: #116329">&lt;h:outputText</span> <span style="color: #116329">value=</span><span style="color: #0a3069">"#{UserNumberBean.maximum}"</span><span style="color: #116329">/&gt;</span>.  Can you guess it?<span style="color: #116329">&lt;/h2&gt;</span>
            <span style="color: #116329">&lt;h:inputText</span> <span style="color: #116329">id=</span><span style="color: #0a3069">"userNo"</span> <span style="color: #116329">value=</span><span style="color: #0a3069">"#{UserNumberBean.userNumber}"</span> <span style="color: #116329">validator=</span><span style="color: #0a3069">"#{UserNumberBean.validate}"</span><span style="color: #116329">/&gt;</span>
            <span style="color: #116329">&lt;h:commandButton</span> <span style="color: #116329">id=</span><span style="color: #0a3069">"submit"</span> <span style="color: #116329">action=</span><span style="color: #0a3069">"success"</span> <span style="color: #116329">value=</span><span style="color: #0a3069">"Submit"</span> <span style="color: #116329">/&gt;</span>
            <span style="color: #116329">&lt;br</span> <span style="color: #116329">/&gt;</span>
            <span style="color: #116329">&lt;h:message</span> <span style="color: #116329">style=</span><span style="color: #0a3069">"color: red; font-family: 'New Century Schoolbook', serif; font-style: oblique; text-decoration: overline"</span> <span style="color: #116329">id=</span><span style="color: #0a3069">"errors1"</span> <span style="color: #116329">for=</span><span style="color: #0a3069">"userNo"</span><span style="color: #116329">/&gt;</span>
        <span style="color: #116329">&lt;/h:form&gt;</span>
    <span style="color: #116329">&lt;/ui:define&gt;</span>
<span style="color: #116329">&lt;/ui:composition&gt;</span>
<span style="color: #116329">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>response.xhtml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="html"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre><span style="color: #6e7781">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span>
<span style="color: #116329">&lt;html</span> <span style="color: #116329">xmlns=</span><span style="color: #0a3069">"http://www.w3.org/1999/xhtml"</span>
    <span style="color: #116329">xmlns:ui=</span><span style="color: #0a3069">"http://java.sun.com/jsf/facelets"</span>
    <span style="color: #116329">xmlns:h=</span><span style="color: #0a3069">"http://java.sun.com/jsf/html"</span>
    <span style="color: #116329">xmlns:f=</span><span style="color: #0a3069">"http://java.sun.com/jsf/core"</span><span style="color: #116329">&gt;</span>
<span style="color: #116329">&lt;ui:composition</span> <span style="color: #116329">template=</span><span style="color: #0a3069">"layout.xhtml"</span><span style="color: #116329">&gt;</span>
    <span style="color: #116329">&lt;ui:define</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"title"</span><span style="color: #116329">&gt;</span>Number Guess<span style="color: #116329">&lt;/ui:define&gt;</span>
    <span style="color: #116329">&lt;ui:define</span> <span style="color: #116329">name=</span><span style="color: #0a3069">"content"</span><span style="color: #116329">&gt;</span>
        <span style="color: #116329">&lt;h:form</span> <span style="color: #116329">id=</span><span style="color: #0a3069">"responseForm"</span> <span style="color: #116329">&gt;</span>
            <span style="color: #116329">&lt;h2&gt;&lt;h:outputText</span> <span style="color: #116329">id=</span><span style="color: #0a3069">"result"</span> <span style="color: #116329">value=</span><span style="color: #0a3069">"#{UserNumberBean.response}"</span><span style="color: #116329">/&gt;&lt;/h2&gt;</span>
            <span style="color: #116329">&lt;h:commandButton</span> <span style="color: #116329">id=</span><span style="color: #0a3069">"back"</span> <span style="color: #116329">value=</span><span style="color: #0a3069">"Back"</span> <span style="color: #116329">action=</span><span style="color: #0a3069">"success"</span><span style="color: #116329">/&gt;</span>
        <span style="color: #116329">&lt;/h:form&gt;</span>
    <span style="color: #116329">&lt;/ui:define&gt;</span>
<span style="color: #116329">&lt;/ui:composition&gt;</span>
<span style="color: #116329">&lt;/html&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Having fixed up our views to work using Facelets, let&#8217;s now see exactly how we do the embedding.  That magic is done in the following class.</p>
</div>
<div class="paragraph">
<p>WinstoneServer.java:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="code"><pre><span style="color: #cf222e">package</span> <span style="color: #953800">embed</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">java.net.URL</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">java.util.HashMap</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">java.util.Map</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">winstone.Launcher</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">public</span> <span style="color: #cf222e">class</span> <span style="color: #953800">WinstoneServer</span> <span style="color: #0550ae">{</span>
    <span style="color: #953800">Launcher</span> <span style="color: #24292f;background-color: #f6f8fa">winstone</span><span style="color: #0550ae">;</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">startup</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #953800">Map</span> <span style="color: #24292f;background-color: #f6f8fa">args</span> <span style="color: #0550ae">=</span> <span style="color: #cf222e">new</span> <span style="color: #953800">HashMap</span><span style="color: #0550ae">();</span>
        <span style="color: #cf222e">try</span> <span style="color: #0550ae">{</span>
            <span style="color: #953800">URL</span> <span style="color: #24292f;background-color: #f6f8fa">webdir</span> <span style="color: #0550ae">=</span> <span style="color: #24292f;background-color: #f6f8fa">getClass</span><span style="color: #0550ae">().</span><span style="color: #116329">getResource</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"/WebContent"</span><span style="color: #0550ae">);</span>
            <span style="color: #24292f;background-color: #f6f8fa">args</span><span style="color: #0550ae">.</span><span style="color: #116329">put</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"webroot"</span><span style="color: #0550ae">,</span> <span style="color: #24292f;background-color: #f6f8fa">webdir</span><span style="color: #0550ae">.</span><span style="color: #116329">getPath</span><span style="color: #0550ae">());</span>
            <span style="color: #953800">System</span><span style="color: #0550ae">.</span><span style="color: #116329">out</span><span style="color: #0550ae">.</span><span style="color: #116329">println</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">args</span><span style="color: #0550ae">.</span><span style="color: #116329">toString</span><span style="color: #0550ae">());</span>
            <span style="color: #953800">Launcher</span><span style="color: #0550ae">.</span><span style="color: #116329">initLogger</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">args</span><span style="color: #0550ae">);</span>
            <span style="color: #24292f;background-color: #f6f8fa">winstone</span> <span style="color: #0550ae">=</span> <span style="color: #cf222e">new</span> <span style="color: #953800">Launcher</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">args</span><span style="color: #0550ae">);</span> <span style="color: #6e7781">// spawns threads, so your application doesn't block</span>
        <span style="color: #0550ae">}</span> <span style="color: #cf222e">catch</span> <span style="color: #0550ae">(</span><span style="color: #953800">Exception</span> <span style="color: #24292f;background-color: #f6f8fa">e</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
            <span style="color: #24292f;background-color: #f6f8fa">e</span><span style="color: #0550ae">.</span><span style="color: #116329">printStackTrace</span><span style="color: #0550ae">();</span>
        <span style="color: #0550ae">}</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">shutdown</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #24292f;background-color: #f6f8fa">winstone</span><span style="color: #0550ae">.</span><span style="color: #116329">shutdown</span><span style="color: #0550ae">();</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">static</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">main</span><span style="color: #0550ae">(</span><span style="color: #953800">String</span> <span style="color: #24292f;background-color: #f6f8fa">args</span><span style="color: #0550ae">[])</span> <span style="color: #0550ae">{</span>
        <span style="color: #953800">WinstoneServer</span> <span style="color: #24292f;background-color: #f6f8fa">server</span> <span style="color: #0550ae">=</span> <span style="color: #cf222e">new</span> <span style="color: #953800">WinstoneServer</span><span style="color: #0550ae">();</span>
        <span style="color: #24292f;background-color: #f6f8fa">server</span><span style="color: #0550ae">.</span><span style="color: #116329">startup</span><span style="color: #0550ae">();</span>
    <span style="color: #0550ae">}</span>
<span style="color: #0550ae">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>That code is taken pretty much verbatim from the Winstone <a href="http://winstone.sourceforge.net/#embedding">documentation</a>.  I split it out into methods on the class to make it prettier, but that&#8217;s about it.  It&#8217;s an extremely simple process.  Of course, there are many more options available, all of which are documented on Winstone&#8217;s site.  My goal here isn&#8217;t to be a Winstone tutorial, so we&#8217;ll just use the minimum configuration, which is where to find the web root.</p>
</div>
<div class="paragraph">
<p>The web root probably needs a word here.  What I&#8217;ve done in my example, which you&#8217;ll see in the <a href="/images/2006/05/EmbedJsf-src.zip">archive</a> attached to this article, is to put the web root directory in the source directory.  By doing it this way, when Eclipse compiles my project it moves my web root to the build directory, making it simple to load it from the classpath.  There are at least two other ways to accomplish the task:  hard coding a path on the filesystem, and archiving the web root to a .war and telling Winstone to use the war.  Each has its pros and cons.  Your choice will depend on your intended usage.  Ideally, for a packaged and deployed application, it would be nice to be able to jar the web root up with the application, but I have not had any luck getting it to load the web app from inside a jar.  Given the limited scope of this demonstration, though, I opted not to pursue that very far.</p>
</div>
<div class="paragraph">
<p>Now, the UserNumberBean class, the Faces-managed bean that is the actual heart of the application.  I&#8217;ve included the full source code here for a couple reasons:  the upgrade to JSF 1.2 necessitated some source changes, and there was apparently some sort of error in the inclusion of the code in the article linked above resulting in the case of some identifiers being mangled somewhat.</p>
</div>
<div class="paragraph">
<p>UserNumberBean.java:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="java"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
</pre></td><td class="code"><pre><span style="color: #cf222e">package</span> <span style="color: #953800">guessNumber</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">java.util.Random</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">javax.faces.component.UIComponent</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">javax.faces.context.FacesContext</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">javax.faces.validator.LongRangeValidator</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">javax.faces.validator.ValidatorException</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">import</span> <span style="color: #953800">com.sun.faces.util.MessageFactory</span><span style="color: #0550ae">;</span>
<span style="color: #cf222e">public</span> <span style="color: #cf222e">class</span> <span style="color: #953800">UserNumberBean</span> <span style="color: #0550ae">{</span>
    <span style="color: #cf222e">protected</span> <span style="color: #cf222e">int</span> <span style="color: #24292f;background-color: #f6f8fa">maximum</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">0</span><span style="color: #0550ae">;</span>
    <span style="color: #cf222e">protected</span> <span style="color: #cf222e">boolean</span> <span style="color: #24292f;background-color: #f6f8fa">maximumSet</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">false</span><span style="color: #0550ae">;</span>
    <span style="color: #cf222e">protected</span> <span style="color: #953800">String</span><span style="color: #0550ae">[]</span> <span style="color: #24292f;background-color: #f6f8fa">status</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">;</span>
    <span style="color: #cf222e">protected</span> <span style="color: #cf222e">int</span> <span style="color: #24292f;background-color: #f6f8fa">minimum</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">0</span><span style="color: #0550ae">;</span>
    <span style="color: #cf222e">protected</span> <span style="color: #cf222e">boolean</span> <span style="color: #24292f;background-color: #f6f8fa">minimumSet</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">false</span><span style="color: #0550ae">;</span>
    <span style="color: #cf222e">protected</span> <span style="color: #953800">Integer</span> <span style="color: #24292f;background-color: #f6f8fa">userNumber</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">;</span>
    <span style="color: #cf222e">protected</span> <span style="color: #953800">Integer</span> <span style="color: #24292f;background-color: #f6f8fa">randomInt</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">;</span>
    <span style="color: #cf222e">protected</span> <span style="color: #953800">String</span> <span style="color: #24292f;background-color: #f6f8fa">response</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">;</span>
    <span style="color: #953800">Random</span> <span style="color: #24292f;background-color: #f6f8fa">randomGR</span> <span style="color: #0550ae">=</span> <span style="color: #cf222e">new</span> <span style="color: #953800">Random</span><span style="color: #0550ae">();</span>
    <span style="color: #cf222e">public</span> <span style="color: #8250df">UserNumberBean</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #24292f;background-color: #f6f8fa">randomInt</span> <span style="color: #0550ae">=</span> <span style="color: #cf222e">new</span> <span style="color: #953800">Integer</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">randomGR</span><span style="color: #0550ae">.</span><span style="color: #116329">nextInt</span><span style="color: #0550ae">(</span><span style="color: #0550ae">10</span><span style="color: #0550ae">));</span>
        <span style="color: #953800">System</span><span style="color: #0550ae">.</span><span style="color: #116329">out</span><span style="color: #0550ae">.</span><span style="color: #116329">println</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"Duke's Number: "</span> <span style="color: #0550ae">+</span> <span style="color: #24292f;background-color: #f6f8fa">randomInt</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">setUserNumber</span><span style="color: #0550ae">(</span><span style="color: #953800">Integer</span> <span style="color: #24292f;background-color: #f6f8fa">user_Number</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
        <span style="color: #24292f;background-color: #f6f8fa">userNumber</span> <span style="color: #0550ae">=</span> <span style="color: #24292f;background-color: #f6f8fa">user_Number</span><span style="color: #0550ae">;</span>
        <span style="color: #953800">System</span><span style="color: #0550ae">.</span><span style="color: #116329">out</span><span style="color: #0550ae">.</span><span style="color: #116329">println</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"Set userNumber "</span> <span style="color: #0550ae">+</span> <span style="color: #24292f;background-color: #f6f8fa">userNumber</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #953800">Integer</span> <span style="color: #8250df">getUserNumber</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #953800">System</span><span style="color: #0550ae">.</span><span style="color: #116329">out</span><span style="color: #0550ae">.</span><span style="color: #116329">println</span><span style="color: #0550ae">(</span><span style="color: #0a3069">"get userNumber "</span> <span style="color: #0550ae">+</span> <span style="color: #24292f;background-color: #f6f8fa">userNumber</span><span style="color: #0550ae">);</span>
        <span style="color: #cf222e">return</span> <span style="color: #24292f;background-color: #f6f8fa">userNumber</span><span style="color: #0550ae">;</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #953800">String</span> <span style="color: #8250df">getResponse</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">if</span> <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">userNumber</span> <span style="color: #0550ae">!=</span> <span style="color: #0550ae">null</span> <span style="color: #0550ae">&amp;&amp;</span> <span style="color: #24292f;background-color: #f6f8fa">userNumber</span><span style="color: #0550ae">.</span><span style="color: #116329">compareTo</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">randomInt</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">==</span> <span style="color: #0550ae">0</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
            <span style="color: #24292f;background-color: #f6f8fa">randomInt</span> <span style="color: #0550ae">=</span> <span style="color: #cf222e">new</span> <span style="color: #953800">Integer</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">randomGR</span><span style="color: #0550ae">.</span><span style="color: #116329">nextInt</span><span style="color: #0550ae">(</span><span style="color: #0550ae">10</span><span style="color: #0550ae">));</span>
            <span style="color: #cf222e">return</span> <span style="color: #0a3069">"Yay! You got it!"</span><span style="color: #0550ae">;</span>
        <span style="color: #0550ae">}</span> <span style="color: #cf222e">else</span> <span style="color: #0550ae">{</span>
            <span style="color: #cf222e">return</span> <span style="color: #0a3069">"Sorry, "</span> <span style="color: #0550ae">+</span> <span style="color: #24292f;background-color: #f6f8fa">userNumber</span> <span style="color: #0550ae">+</span> <span style="color: #0a3069">" is incorrect."</span><span style="color: #0550ae">;</span>
        <span style="color: #0550ae">}</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #953800">String</span><span style="color: #0550ae">[]</span> <span style="color: #8250df">getStatus</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">return</span> <span style="color: #24292f;background-color: #f6f8fa">status</span><span style="color: #0550ae">;</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">setStatus</span><span style="color: #0550ae">(</span><span style="color: #953800">String</span><span style="color: #0550ae">[]</span> <span style="color: #24292f;background-color: #f6f8fa">newStatus</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
        <span style="color: #24292f;background-color: #f6f8fa">status</span> <span style="color: #0550ae">=</span> <span style="color: #24292f;background-color: #f6f8fa">newStatus</span><span style="color: #0550ae">;</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">int</span> <span style="color: #8250df">getMaximum</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">return</span> <span style="color: #0550ae">(</span><span style="color: #cf222e">this</span><span style="color: #0550ae">.</span><span style="color: #116329">maximum</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">setMaximum</span><span style="color: #0550ae">(</span><span style="color: #cf222e">int</span> <span style="color: #24292f;background-color: #f6f8fa">maximum</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">this</span><span style="color: #0550ae">.</span><span style="color: #116329">maximum</span> <span style="color: #0550ae">=</span> <span style="color: #24292f;background-color: #f6f8fa">maximum</span><span style="color: #0550ae">;</span>
        <span style="color: #cf222e">this</span><span style="color: #0550ae">.</span><span style="color: #116329">maximumSet</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">true</span><span style="color: #0550ae">;</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">int</span> <span style="color: #8250df">getMinimum</span><span style="color: #0550ae">()</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">return</span> <span style="color: #0550ae">(</span><span style="color: #cf222e">this</span><span style="color: #0550ae">.</span><span style="color: #116329">minimum</span><span style="color: #0550ae">);</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">setMinimum</span><span style="color: #0550ae">(</span><span style="color: #cf222e">int</span> <span style="color: #24292f;background-color: #f6f8fa">minimum</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">this</span><span style="color: #0550ae">.</span><span style="color: #116329">minimum</span> <span style="color: #0550ae">=</span> <span style="color: #24292f;background-color: #f6f8fa">minimum</span><span style="color: #0550ae">;</span>
        <span style="color: #cf222e">this</span><span style="color: #0550ae">.</span><span style="color: #116329">minimumSet</span> <span style="color: #0550ae">=</span> <span style="color: #0550ae">true</span><span style="color: #0550ae">;</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">public</span> <span style="color: #cf222e">void</span> <span style="color: #8250df">validate</span><span style="color: #0550ae">(</span><span style="color: #953800">FacesContext</span> <span style="color: #24292f;background-color: #f6f8fa">context</span><span style="color: #0550ae">,</span> <span style="color: #953800">UIComponent</span> <span style="color: #24292f;background-color: #f6f8fa">component</span><span style="color: #0550ae">,</span> <span style="color: #953800">Object</span> <span style="color: #24292f;background-color: #f6f8fa">value</span><span style="color: #0550ae">)</span> <span style="color: #cf222e">throws</span> <span style="color: #953800">ValidatorException</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">if</span> <span style="color: #0550ae">((</span><span style="color: #24292f;background-color: #f6f8fa">context</span> <span style="color: #0550ae">==</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">||</span> <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">component</span> <span style="color: #0550ae">==</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">))</span> <span style="color: #0550ae">{</span>
            <span style="color: #cf222e">throw</span> <span style="color: #cf222e">new</span> <span style="color: #8250df">NullPointerException</span><span style="color: #0550ae">();</span>
        <span style="color: #0550ae">}</span>
        <span style="color: #cf222e">if</span> <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">value</span> <span style="color: #0550ae">!=</span> <span style="color: #0550ae">null</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
            <span style="color: #cf222e">try</span> <span style="color: #0550ae">{</span>
                <span style="color: #cf222e">int</span> <span style="color: #24292f;background-color: #f6f8fa">converted</span> <span style="color: #0550ae">=</span> <span style="color: #24292f;background-color: #f6f8fa">intValue</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">value</span><span style="color: #0550ae">);</span>
                <span style="color: #cf222e">if</span> <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">maximumSet</span> <span style="color: #0550ae">&amp;&amp;</span>
                        <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">converted</span> <span style="color: #0550ae">&gt;</span> <span style="color: #24292f;background-color: #f6f8fa">maximum</span><span style="color: #0550ae">))</span> <span style="color: #0550ae">{</span>
                    <span style="color: #cf222e">if</span> <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">minimumSet</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
                        <span style="color: #cf222e">throw</span> <span style="color: #cf222e">new</span> <span style="color: #8250df">ValidatorException</span><span style="color: #0550ae">(</span>
                                <span style="color: #953800">MessageFactory</span><span style="color: #0550ae">.</span><span style="color: #116329">getMessage</span>
                                <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">context</span><span style="color: #0550ae">,</span> <span style="color: #953800">LongRangeValidator</span><span style="color: #0550ae">.</span><span style="color: #116329">NOT_IN_RANGE_MESSAGE_ID</span><span style="color: #0550ae">,</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #953800">Object</span><span style="color: #0550ae">[]{</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #8250df">Integer</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">minimum</span><span style="color: #0550ae">),</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #8250df">Integer</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">maximum</span><span style="color: #0550ae">)</span>
                                <span style="color: #0550ae">}));</span>
                    <span style="color: #0550ae">}</span> <span style="color: #cf222e">else</span> <span style="color: #0550ae">{</span>
                        <span style="color: #cf222e">throw</span> <span style="color: #cf222e">new</span> <span style="color: #8250df">ValidatorException</span><span style="color: #0550ae">(</span>
                                <span style="color: #953800">MessageFactory</span><span style="color: #0550ae">.</span><span style="color: #116329">getMessage</span>
                                <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">context</span><span style="color: #0550ae">,</span> <span style="color: #953800">LongRangeValidator</span><span style="color: #0550ae">.</span><span style="color: #116329">MAXIMUM_MESSAGE_ID</span><span style="color: #0550ae">,</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #953800">Object</span><span style="color: #0550ae">[]{</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #8250df">Integer</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">maximum</span><span style="color: #0550ae">)</span>
                                <span style="color: #0550ae">}));</span>
                    <span style="color: #0550ae">}</span>
                <span style="color: #0550ae">}</span>
                <span style="color: #cf222e">if</span> <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">minimumSet</span> <span style="color: #0550ae">&amp;&amp;</span>
                        <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">converted</span> <span style="color: #0550ae">&lt;</span> <span style="color: #24292f;background-color: #f6f8fa">minimum</span><span style="color: #0550ae">))</span> <span style="color: #0550ae">{</span>
                    <span style="color: #cf222e">if</span> <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">maximumSet</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
                        <span style="color: #cf222e">throw</span> <span style="color: #cf222e">new</span> <span style="color: #8250df">ValidatorException</span><span style="color: #0550ae">(</span><span style="color: #953800">MessageFactory</span><span style="color: #0550ae">.</span><span style="color: #116329">getMessage</span>
                                <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">context</span><span style="color: #0550ae">,</span> <span style="color: #953800">LongRangeValidator</span><span style="color: #0550ae">.</span><span style="color: #116329">NOT_IN_RANGE_MESSAGE_ID</span><span style="color: #0550ae">,</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #953800">Object</span><span style="color: #0550ae">[]{</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #8250df">Double</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">minimum</span><span style="color: #0550ae">),</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #8250df">Double</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">maximum</span><span style="color: #0550ae">)</span>
                                <span style="color: #0550ae">}));</span>
                    <span style="color: #0550ae">}</span> <span style="color: #cf222e">else</span> <span style="color: #0550ae">{</span>
                        <span style="color: #cf222e">throw</span> <span style="color: #cf222e">new</span> <span style="color: #8250df">ValidatorException</span><span style="color: #0550ae">(</span>
                                <span style="color: #953800">MessageFactory</span><span style="color: #0550ae">.</span><span style="color: #116329">getMessage</span>
                                <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">context</span><span style="color: #0550ae">,</span> <span style="color: #953800">LongRangeValidator</span><span style="color: #0550ae">.</span><span style="color: #116329">MINIMUM_MESSAGE_ID</span><span style="color: #0550ae">,</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #953800">Object</span><span style="color: #0550ae">[]{</span>
                                        <span style="color: #cf222e">new</span> <span style="color: #8250df">Integer</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">minimum</span><span style="color: #0550ae">)</span>
                                <span style="color: #0550ae">}</span>
                                <span style="color: #0550ae">));</span>
                    <span style="color: #0550ae">}</span>
                <span style="color: #0550ae">}</span>
            <span style="color: #0550ae">}</span> <span style="color: #cf222e">catch</span> <span style="color: #0550ae">(</span><span style="color: #953800">NumberFormatException</span> <span style="color: #24292f;background-color: #f6f8fa">e</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
                <span style="color: #cf222e">throw</span> <span style="color: #cf222e">new</span> <span style="color: #8250df">ValidatorException</span><span style="color: #0550ae">(</span>
                        <span style="color: #953800">MessageFactory</span><span style="color: #0550ae">.</span><span style="color: #116329">getMessage</span>
                        <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">context</span><span style="color: #0550ae">,</span> <span style="color: #953800">LongRangeValidator</span><span style="color: #0550ae">.</span><span style="color: #116329">TYPE_MESSAGE_ID</span><span style="color: #0550ae">));</span>
            <span style="color: #0550ae">}</span>
        <span style="color: #0550ae">}</span>
    <span style="color: #0550ae">}</span>
    <span style="color: #cf222e">private</span> <span style="color: #cf222e">int</span> <span style="color: #8250df">intValue</span><span style="color: #0550ae">(</span><span style="color: #953800">Object</span> <span style="color: #24292f;background-color: #f6f8fa">attributeValue</span><span style="color: #0550ae">)</span>    <span style="color: #cf222e">throws</span> <span style="color: #953800">NumberFormatException</span> <span style="color: #0550ae">{</span>
        <span style="color: #cf222e">if</span> <span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">attributeValue</span> <span style="color: #cf222e">instanceof</span> <span style="color: #953800">Number</span><span style="color: #0550ae">)</span> <span style="color: #0550ae">{</span>
            <span style="color: #cf222e">return</span> <span style="color: #0550ae">(((</span><span style="color: #953800">Number</span><span style="color: #0550ae">)</span> <span style="color: #24292f;background-color: #f6f8fa">attributeValue</span><span style="color: #0550ae">).</span><span style="color: #116329">intValue</span><span style="color: #0550ae">());</span>
        <span style="color: #0550ae">}</span> <span style="color: #cf222e">else</span> <span style="color: #0550ae">{</span>
            <span style="color: #cf222e">return</span> <span style="color: #0550ae">(</span><span style="color: #953800">Integer</span><span style="color: #0550ae">.</span><span style="color: #116329">parseInt</span><span style="color: #0550ae">(</span><span style="color: #24292f;background-color: #f6f8fa">attributeValue</span><span style="color: #0550ae">.</span><span style="color: #116329">toString</span><span style="color: #0550ae">()));</span>
        <span style="color: #0550ae">}</span>
    <span style="color: #0550ae">}</span>
<span style="color: #0550ae">}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The web.xml and faces-config.xml files used to wire the web application together are pretty standard, but I&#8217;ll include them here for your perusal:</p>
</div>
<div class="paragraph">
<p>web.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
</pre></td><td class="code"><pre><span style="color: #6e7781">&lt;?xml version='1.0' encoding='UTF-8'?&gt;</span>
<span style="color: #6e7781">&lt;!DOCTYPE web-app PUBLIC
  "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
  "http://java.sun.com/dtd/web-app_2_3.dtd"&gt;</span>
<span style="color: #116329">&lt;web-app&gt;</span>
    <span style="color: #116329">&lt;display-name&gt;</span>JavaServer Faces Guess Number Sample Application<span style="color: #116329">&lt;/display-name&gt;</span>
    <span style="color: #116329">&lt;description&gt;</span>JavaServer Faces Guess Number Sample Application<span style="color: #116329">&lt;/description&gt;</span>
    <span style="color: #6e7781">&lt;!-- Use Documents Saved as *.xhtml --&gt;</span>
    <span style="color: #116329">&lt;context-param&gt;</span>
        <span style="color: #116329">&lt;param-name&gt;</span>javax.faces.DEFAULT_SUFFIX<span style="color: #116329">&lt;/param-name&gt;</span>
        <span style="color: #116329">&lt;param-value&gt;</span>.xhtml<span style="color: #116329">&lt;/param-value&gt;</span>
    <span style="color: #116329">&lt;/context-param&gt;</span>
    <span style="color: #6e7781">&lt;!-- Special Debug Output for Development --&gt;</span>
    <span style="color: #116329">&lt;context-param&gt;</span>
        <span style="color: #116329">&lt;param-name&gt;</span>facelets.DEVELOPMENT<span style="color: #116329">&lt;/param-name&gt;</span>
        <span style="color: #116329">&lt;param-value&gt;</span>true<span style="color: #116329">&lt;/param-value&gt;</span>
    <span style="color: #116329">&lt;/context-param&gt;</span>
    <span style="color: #116329">&lt;context-param&gt;</span>
        <span style="color: #116329">&lt;param-name&gt;</span>com.sun.faces.verifyObjects<span style="color: #116329">&lt;/param-name&gt;</span>
        <span style="color: #116329">&lt;param-value&gt;</span>true<span style="color: #116329">&lt;/param-value&gt;</span>
    <span style="color: #116329">&lt;/context-param&gt;</span>
    <span style="color: #116329">&lt;context-param&gt;</span>
        <span style="color: #116329">&lt;param-name&gt;</span>javax.faces.STATE_SAVING_METHOD<span style="color: #116329">&lt;/param-name&gt;</span>
        <span style="color: #116329">&lt;param-value&gt;</span>client<span style="color: #116329">&lt;/param-value&gt;</span>
    <span style="color: #116329">&lt;/context-param&gt;</span>
    <span style="color: #116329">&lt;context-param&gt;</span>
        <span style="color: #116329">&lt;param-name&gt;</span>com.sun.faces.validateXml<span style="color: #116329">&lt;/param-name&gt;</span>
        <span style="color: #116329">&lt;param-value&gt;</span>true<span style="color: #116329">&lt;/param-value&gt;</span>
        <span style="color: #116329">&lt;description&gt;</span>Set this flag to true if you want the JavaServer Faces Reference Implementation to validate the XML in your faces-config.xml resources against the DTD. Default value is false.<span style="color: #116329">&lt;/description&gt;</span>
    <span style="color: #116329">&lt;/context-param&gt;</span>
    <span style="color: #116329">&lt;context-param&gt;</span>
        <span style="color: #116329">&lt;param-name&gt;</span>com.sun.faces.verifyObjects<span style="color: #116329">&lt;/param-name&gt;</span>
        <span style="color: #116329">&lt;param-value&gt;</span>true<span style="color: #116329">&lt;/param-value&gt;</span>
        <span style="color: #116329">&lt;description&gt;</span>
            Set this flag to true if you want the JavaServer Faces Reference Implementation to verify that all of the application objects you have configured (components, converters, renderers, and validators) can be successfully created. Default value is
            false.
        <span style="color: #116329">&lt;/description&gt;</span>
    <span style="color: #116329">&lt;/context-param&gt;</span>
    <span style="color: #116329">&lt;listener&gt;</span>
        <span style="color: #116329">&lt;listener-class&gt;</span>com.sun.faces.config.ConfigureListener<span style="color: #116329">&lt;/listener-class&gt;</span>
    <span style="color: #116329">&lt;/listener&gt;</span>
    <span style="color: #6e7781">&lt;!-- Faces Servlet --&gt;</span>
    <span style="color: #116329">&lt;servlet&gt;</span>
        <span style="color: #116329">&lt;servlet-name&gt;</span>Faces Servlet<span style="color: #116329">&lt;/servlet-name&gt;</span>
        <span style="color: #116329">&lt;servlet-class&gt;</span>javax.faces.webapp.FacesServlet<span style="color: #116329">&lt;/servlet-class&gt;</span>
        <span style="color: #116329">&lt;load-on-startup&gt;</span>1<span style="color: #116329">&lt;/load-on-startup&gt;</span>
    <span style="color: #116329">&lt;/servlet&gt;</span>
    <span style="color: #6e7781">&lt;!-- Faces Servlet Mapping --&gt;</span>
    <span style="color: #116329">&lt;servlet-mapping&gt;</span>
        <span style="color: #116329">&lt;servlet-name&gt;</span>Faces Servlet<span style="color: #116329">&lt;/servlet-name&gt;</span>
        <span style="color: #116329">&lt;url-pattern&gt;</span>*.jsf<span style="color: #116329">&lt;/url-pattern&gt;</span>
    <span style="color: #116329">&lt;/servlet-mapping&gt;</span>
    <span style="color: #116329">&lt;security-constraint&gt;</span>
        <span style="color: #6e7781">&lt;!-- This security constraint illustrates how JSP pages
            with JavaServer Faces components can be protected from
            being accessed without going through the Faces Servlet.
            The security constraint ensures that the Faces Servlet will
            be used or the pages will not be processed. --&gt;</span>
        <span style="color: #116329">&lt;display-name&gt;</span>Restrict access to JSP pages<span style="color: #116329">&lt;/display-name&gt;</span>
        <span style="color: #116329">&lt;web-resource-collection&gt;</span>
            <span style="color: #116329">&lt;web-resource-name&gt;</span>Restrict access to JSP pages<span style="color: #116329">&lt;/web-resource-name&gt;</span>
            <span style="color: #116329">&lt;url-pattern&gt;</span>/greeting.xhtml<span style="color: #116329">&lt;/url-pattern&gt;</span>
            <span style="color: #116329">&lt;url-pattern&gt;</span>/response.xhtml<span style="color: #116329">&lt;/url-pattern&gt;</span>
        <span style="color: #116329">&lt;/web-resource-collection&gt;</span>
        <span style="color: #116329">&lt;auth-constraint&gt;</span>
            <span style="color: #116329">&lt;description&gt;</span>With no roles defined, no access granted<span style="color: #116329">&lt;/description&gt;</span>
        <span style="color: #116329">&lt;/auth-constraint&gt;</span>
    <span style="color: #116329">&lt;/security-constraint&gt;</span>
<span style="color: #116329">&lt;/web-app&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>faces-config.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #24292f;background-color: #f6f8fa"><code data-lang="xml"><table class="linenotable"><tbody><tr><td class="linenos gl"><pre class="lineno"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre></td><td class="code"><pre><span style="color: #6e7781">&lt;?xml version='1.0' encoding='UTF-8'?&gt;</span>
<span style="color: #6e7781">&lt;!DOCTYPE faces-config PUBLIC
  "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.1//EN"
  "http://java.sun.com/dtd/web-facesconfig_1_1.dtd"&gt;</span>
<span style="color: #116329">&lt;faces-config&gt;</span>
    <span style="color: #116329">&lt;application&gt;</span>
        <span style="color: #116329">&lt;locale-config&gt;</span>
            <span style="color: #116329">&lt;default-locale&gt;</span>en<span style="color: #116329">&lt;/default-locale&gt;</span>
            <span style="color: #116329">&lt;supported-locale&gt;</span>de<span style="color: #116329">&lt;/supported-locale&gt;</span>
            <span style="color: #116329">&lt;supported-locale&gt;</span>fr<span style="color: #116329">&lt;/supported-locale&gt;</span>
            <span style="color: #116329">&lt;supported-locale&gt;</span>es<span style="color: #116329">&lt;/supported-locale&gt;</span>
        <span style="color: #116329">&lt;/locale-config&gt;</span>
        <span style="color: #116329">&lt;view-handler&gt;</span>com.sun.facelets.FaceletViewHandler<span style="color: #116329">&lt;/view-handler&gt;</span>
    <span style="color: #116329">&lt;/application&gt;</span>
    <span style="color: #116329">&lt;navigation-rule&gt;</span>
        <span style="color: #116329">&lt;description&gt;</span>The decision rule used by the NavigationHandler to determine which view must be displayed after the current view, greeting.jsp is processed.<span style="color: #116329">&lt;/description&gt;</span>
        <span style="color: #116329">&lt;from-view-id&gt;</span>/greeting.xhtml<span style="color: #116329">&lt;/from-view-id&gt;</span>
        <span style="color: #116329">&lt;navigation-case&gt;</span>
            <span style="color: #116329">&lt;description&gt;</span>Indicates to the NavigationHandler that the response.jsp view must be displayed if the Action referenced by a UICommand component on the greeting.jsp view returns the outcome "success".<span style="color: #116329">&lt;/description&gt;</span>
            <span style="color: #116329">&lt;from-outcome&gt;</span>success<span style="color: #116329">&lt;/from-outcome&gt;</span>
            <span style="color: #116329">&lt;to-view-id&gt;</span>/response.xhtml<span style="color: #116329">&lt;/to-view-id&gt;</span>
        <span style="color: #116329">&lt;/navigation-case&gt;</span>
    <span style="color: #116329">&lt;/navigation-rule&gt;</span>
    <span style="color: #116329">&lt;navigation-rule&gt;</span>
        <span style="color: #116329">&lt;description&gt;</span>The decision rules used by the NavigationHandler to determine which view must be displayed after the current view, response.jsp is processed.<span style="color: #116329">&lt;/description&gt;</span>
        <span style="color: #116329">&lt;from-view-id&gt;</span>/response.xhtml<span style="color: #116329">&lt;/from-view-id&gt;</span>
        <span style="color: #116329">&lt;navigation-case&gt;</span>
            <span style="color: #116329">&lt;description&gt;</span>Indicates to the NavigationHandler that the greeting.jsp view must be displayed if the Action referenced by a UICommand component on the response.jsp view returns the outcome "success".<span style="color: #116329">&lt;/description&gt;</span>
            <span style="color: #116329">&lt;from-outcome&gt;</span>success<span style="color: #116329">&lt;/from-outcome&gt;</span>
            <span style="color: #116329">&lt;to-view-id&gt;</span>/greeting.xhtml<span style="color: #116329">&lt;/to-view-id&gt;</span>
        <span style="color: #116329">&lt;/navigation-case&gt;</span>
    <span style="color: #116329">&lt;/navigation-rule&gt;</span>
    <span style="color: #116329">&lt;managed-bean&gt;</span>
        <span style="color: #116329">&lt;description&gt;</span>The "backing file" bean that backs up the guessNumber webapp<span style="color: #116329">&lt;/description&gt;</span>
        <span style="color: #116329">&lt;managed-bean-name&gt;</span>UserNumberBean<span style="color: #116329">&lt;/managed-bean-name&gt;</span>
        <span style="color: #116329">&lt;managed-bean-class&gt;</span>guessNumber.UserNumberBean<span style="color: #116329">&lt;/managed-bean-class&gt;</span>
        <span style="color: #116329">&lt;managed-bean-scope&gt;</span>session<span style="color: #116329">&lt;/managed-bean-scope&gt;</span>
        <span style="color: #116329">&lt;managed-property&gt;</span>
            <span style="color: #116329">&lt;property-name&gt;</span>minimum<span style="color: #116329">&lt;/property-name&gt;</span>
            <span style="color: #116329">&lt;property-class&gt;</span>int<span style="color: #116329">&lt;/property-class&gt;</span>
            <span style="color: #116329">&lt;value&gt;</span>0<span style="color: #116329">&lt;/value&gt;</span>
        <span style="color: #116329">&lt;/managed-property&gt;</span>
        <span style="color: #116329">&lt;managed-property&gt;</span>
            <span style="color: #116329">&lt;property-name&gt;</span>maximum<span style="color: #116329">&lt;/property-name&gt;</span>
            <span style="color: #116329">&lt;property-class&gt;</span>int<span style="color: #116329">&lt;/property-class&gt;</span>
            <span style="color: #116329">&lt;value&gt;</span>10<span style="color: #116329">&lt;/value&gt;</span>
        <span style="color: #116329">&lt;/managed-property&gt;</span>
    <span style="color: #116329">&lt;/managed-bean&gt;</span>
<span style="color: #116329">&lt;/faces-config&gt;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>The archive attached to this blog does not have the dependencies included for size and (possible) legal restrictions, so here&#8217;s a list of what my workspace has:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>commons-el.jar</p>
</li>
<li>
<p>commons-logging-1.0.4.jar</p>
</li>
<li>
<p>el-api.jar</p>
</li>
<li>
<p>el-ri.jar</p>
</li>
<li>
<p>jsf-api-1.2.jar</p>
</li>
<li>
<p>jsf-facelets-1.1.jar</p>
</li>
<li>
<p>jsf-impl-1.2.jar</p>
</li>
<li>
<p>log4j-1.2.13.jar</p>
</li>
<li>
<p>winstone-0.8.1.jar</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>That&#8217;s all there is to.  To run the sample application, simply run <code>embed.WinstoneServer</code>, point your browser at <a href="http://localhost:8080">http://localhost:8080</a>, and start guessing.</p>
</div>
<div class="paragraph">
<p>As I&#8217;ve hopefully made clear, embedding a JSF application can be quite simple, though that simplicitly is linked somewhat to the embedding environment.  Please note that this sample is not meant to be a catalog of best practices for JSF, Facelets or Winstone embedding, but to be a simple introduction to the topic, and, to that end, I hope you&#8217;ll find it useful.
(You can download the source archive <a href="/images/2006/05/EmbedJsf-src.zip">here</a>).</p>
</div>
    </div>
    <footer>
        <div class="grid">
            <div class="col tags">
                
                <span class="title">tags: </span>
                
                <a href="/tag/jsf/">JSF</a>
                <!--                <a href="https://jasondl.ee/tags/JSF.html">JSF</a>-->
                
                
            </div>
            <div class="col"><span class="share-page" style="">
  <a class="share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https://jasondl.ee/2006/embedding-jsf-with-winstone&title=Embedding JSF with Winstone" rel="nofollow" target="_blank" title="Share on LinkedIn">
      <i class="fa fa-linkedin-square"></i>
  </a>
  <a class="share-twitter" href="https://twitter.com/intent/tweet?text=Embedding JSF with Winstone&url=https://jasondl.ee/2006/embedding-jsf-with-winstone&via=jasondlee&related=jasondlee" rel="nofollow" target="_blank" title="Share on Twitter">
      <i class="fa fa-twitter-square"></i>
  </a>
  <a class="share-facebook" href="https://facebook.com/sharer.php?u=https://jasondl.ee/2006/embedding-jsf-with-winstone" rel="nofollow" target="_blank" title="Share on Facebook">
      <i class="fa fa-facebook-square"></i>
  </a>
  <a class="share-reddit" href="https://www.reddit.com/submit?url=https://jasondl.ee/2006/embedding-jsf-with-winstone" onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;" title="Share on Reddit" >
      <i class="fa fa-reddit-square"></i>
  </a>
  <a class="share-email" href="mailto:?subject=Embedding JSF with Winstone&amp;body=Embedding JSF with Winstone https://jasondl.ee/2006/embedding-jsf-with-winstone" title="Share via Email" >
      <i class="fa fa-envelope"></i>
  </a>
</span>
</div>
        </div>
    </footer>
</article>

        </div>
    </div>
    <div class="col-3 widget">
        <div>
            <h3>Search</h3>
            <!-- HTML elements for search -->
            <input type="text" id="search-input" placeholder="Search blog posts.." style="width: 98%"/>
            <ul id="results-container"></ul>

            <script>
                var sjs = SimpleJekyllSearch({
                    searchInput: document.getElementById('search-input'),
                    resultsContainer: document.getElementById('results-container'),
                    json: '/search.json',
                    limit: 50
                })
            </script>
        </div>
        <div>
            <h3>Quotes</h3>
            <p id="quote">Sample quote</p>
            <p id="source">Quote source</p>
        </div>
        <div>
            <h3>About</h3>
            <p><img src="/images/profile-pic.jpg" style="float:right; object-fit: scale-down; padding-bottom: 1em;"/>My name is Jason Lee. I am a software developer living in the middle of Oklahoma. I’ve been a professional developer since 1997,
using a variety of languages, including Java, Javascript, PHP, Python, Delphi, and even a bit of C#. I currently work for Red Hat
on the WildFly/EAP team, where, among other things, I maintain integrations for some MicroProfile specs, OpenTelemetry, Micrometer,
Jakarta Faces, and Bean Validation. (Full resume <a href="resume">here</a>.
LinkedIn <a href="https://www.linkedin.com/in/jasondlee">profile</a>)</p>

<p>I am the president of the Oklahoma City JUG, and an occasional speaker at the JUG and a variety of technical conferences.</p>

<p>On the personal side, I’m active in my church, and enjoy bass guitar, running, fishing, and a variety of martial arts. I’m also
married to a beautiful woman, and have two boys, who, thankfully, look like their mother.</p>

        </div>
        <div>
            <h3>My Links</h3>
            <ul>
                
                <li>
                    <a href="/presentations" title="Presentations">
                        Presentations
                    </a>
                </li>
                
                <li>
                    <a href="/assets/resume.pdf" title="Resume/CV">
                        Resume/CV
                    </a>
                </li>
                
                <li>
                    <a href="https://linkedin.com/in/jasondlee" title="LinkedIn">
                        LinkedIn
                    </a>
                </li>
                
                <li>
                    <a href="https://twitter.com/jasondlee" title="Twitter">
                        Twitter
                    </a>
                </li>
                
                <li>
                    <a href="https://mastodon.cloud/@jasondlee" title="Mastodon">
                        Mastodon
                    </a>
                </li>
                
                <li>
                    <a href="/tag" title="Tags">
                        Tags
                    </a>
                </li>
                
            </ul>

        </div>
        <div>
            <h3>Publications</h3>
            <ul>
                <li>
                    <div class="grid">
                        <div class="col-8" style="text-weight: bold; font-size: large">
                            <div>Java 9 Programming Blueprints:</div>
                            <div>
                                <a title="My Java 9 book at Amazon" href="https://amzn.to/2FD2XAo" style="padding-left: 10px">Amazon</a>
                            </div>
                            <div>
                                <a title="My Java 9 book at Packt"
                                   href="https://www.packtpub.com/application-development/java-9-programming-blueprints"
                                   style="padding-left: 10px">Packt</a>
                            </div>
                        </div>
                            <div class="col-4">
                                <a href="https://amzn.to/2FD2XAo"><img src="/images/2017/j9pb.png" width="100"/></a>
                            </div>
                    </div>
                </li>
                
                <li>
                    <a href="https://jaxenter.com/tips-for-writing-pluggable-java-ee-applications-105281.html" title="This article discusses ways to use Java EE specs to implement a simple, yet powerful plugin system with a minimum of thrid party libraries.">
                        Tips for Writing Pluggable Java EE Applications
                    </a>
                </li>
                
                <li>
                    <a href="http://www.oracle.com/technetwork/articles/javaee/jsf-templating-137822.html" title="An article Ken Paulsen and I wrote detailing easy JSF component creation">
                        JSFTemplating and Woodstock: Component Authoring Made Easy
                    </a>
                </li>
                
                <li>
                    <a href="http://jsfcentral.com/articles/lee-03-09.html" title="Jason Lee in depth: Mojarra and Scales">
                        Jason Lee in depth: Mojarra and Scales
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20090301060746/http://www.theserverside.com/news/thread.tss?thread_id=49343" title="My JavaOne 2008 Wrap Up">
                        Jason Lee: Postmortem for JavaOne 2008
                    </a>
                </li>
                
                <li>
                    <a href="https://web.archive.org/web/20130621192312/https://blogs.oracle.com/stories/entry/international_environmental" title="The GlassFish Adoption Story from my time at IEC">
                        International Environmental: A Cooling Company Which Prefers Hot Software
                    </a>
                </li>
                
                <li>
                    <a href="http://www.jsfcentral.com/articles/trenches_7.html" title="This details the project that spawned a couple of the Mojarra Scales components">
                        IEC donates custom JSF component to Mojarra Scales
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
<div class="footer">
    <div>
        <p>&#169; Copyright Jason Lee, 2005-2023. All rights reserved.</p>
    </div>
</div>
<!--
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-1091049-6', 'auto');
    ga('send', 'pageview');
</script>
-->
<script src="/assets/js/quotes.js" type="text/javascript"></script>
<script src="/assets/js/local.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>
<script type="text/javascript" src="/assets/js/copy.js"></script>
</body>
</html>
